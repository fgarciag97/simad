--CREATE DATABASE sisadmi;

CREATE TABLE usuarios(
	id SERIAL PRIMARY KEY,
	username VARCHAR(20) NOT NULL UNIQUE,
	password VARCHAR(255) NOT NULL,
	responsable VARCHAR(50) NOT NULL,
	presupuestof BOOLEAN DEFAULT '0', 
	presupuestoe BOOLEAN DEFAULT '0',
	rrhh BOOLEAN DEFAULT '0',
	compra BOOLEAN DEFAULT '0',
	tesoreria BOOLEAN DEFAULT '0',
	usogeneral BOOLEAN DEFAULT '0',
	ordenamiento BOOLEAN DEFAULT '0'
);

CREATE TABLE ano_fiscal( 
	id SERIAL PRIMARY KEY,
	ano_fiscal integer not null
);

CREATE TABLE mes(
	id serial NOT NULL PRIMARY KEY,
	denominacion VARCHAR(20) NOT NULL
);

CREATE TABLE quincena(
	id serial NOT NULL PRIMARY KEY,
	denominacion VARCHAR(30) NOT NULL,
	fecha_desde integer NOT NULL,
	fecha_hasta integer NOT NULL
);

/*==============================================================================================*/
/* PRESUPUESTO FORMULACION*/
/*==============================================================================================*/
/* PK en la entidad de la tabla*/
CREATE TABLE mp_seguimiento(
	ano SERIAL NOT NULL PRIMARY KEY,
	datosentidad BOOLEAN DEFAULT '0',
	politica_presupuestaria BOOLEAN DEFAULT '0',
	ingresos BOOLEAN DEFAULT '0',	
	categorias BOOLEAN DEFAULT '0',
	proyectos BOOLEAN DEFAULT '0'
);

CREATE TABLE mp_forma2100(
	forma serial NOT NULL PRIMARY KEY,
	ano INTEGER NOT NULL,
	nombre_alcalde VARCHAR(50),
	director_general VARCHAR(50),
	personal_directivo TEXT,
	nombres_directivo TEXT,
	correo_directivo TEXT,
	telefono_directivo TEXT,
	correo_director_general VARCHAR(30),
	correo_consejal VARCHAR(30),
	telefono_director_general VARCHAR(20),
	contralor_municipal VARCHAR(50),
	domicilio_contralor TEXT,
	telefono_contralor VARCHAR(20),
	pagina_web_contralor VARCHAR(50),
	fax_contralor VARCHAR(20),
	presidente_concejo_municipal VARCHAR(50),
	secretario_concejo_municipal VARCHAR(50),
	domicilio_concejo_municipal TEXT,
	telefono_concejo_municipal VARCHAR(20),
	pagina_web_concejo_municipal VARCHAR(50),
	fax_concejo_municipal VARCHAR(20),
	concejo_local TEXT
);

CREATE TABLE mp_forma2101(
	forma serial NOT NULL PRIMARY KEY,
	ano INTEGER NOT NULL,
	entidad_federal TEXT,
	politica_presupuestaria TEXT,
	politica_gastos TEXT,
	politica_cobertura TEXT
);

----------------------------- PRESUPUESTO ----------------------------------------------
----------------------------------------------------------------------------------------
CREATE TABLE resoluciones (
	n_resolucion INTEGER PRIMARY KEY,
	denominacion TEXT NOT NULL,
	fecha DATE NOT NULL DEFAULT CURRENT_DATE,
	ano INTEGER NOT NULL DEFAULT 2020
);

CREATE TABLE presupuesto_sector (
	id SERIAL PRIMARY KEY,
	sector TEXT NOT NULL UNIQUE,
	denominacion TEXT,
	tipo_categoria TEXT,
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

CREATE TABLE presupuesto_programa (
	id SERIAL PRIMARY KEY,
	id_sector INTEGER NOT NULL REFERENCES presupuesto_sector(id),
	programa TEXT NOT NULL,
	denominacion TEXT,
	tipo_categoria TEXT,
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

CREATE TABLE presupuesto_sub_programa (
	id SERIAL PRIMARY KEY,
	id_sector INTEGER NOT NULL REFERENCES presupuesto_sector(id),
	id_programa INTEGER NOT NULL REFERENCES presupuesto_programa(id),
	sub_programa TEXT,
	denominacion TEXT,
	tipo_categoria TEXT,
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

CREATE TABLE presupuesto_proyecto (
	id SERIAL PRIMARY KEY,
	id_sector INTEGER NOT NULL REFERENCES presupuesto_sector(id),
	id_programa INTEGER NOT NULL REFERENCES presupuesto_programa(id),
	id_sub_programa INTEGER NOT NULL REFERENCES presupuesto_sub_programa(id),
	proyecto TEXT NOT NULL,
	denominacion TEXT,
	ano INTEGER,
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

CREATE TABLE presupuesto_actividad (
	id SERIAL PRIMARY KEY,
	id_sector INTEGER NOT NULL REFERENCES presupuesto_sector(id),
	id_programa INTEGER NOT NULL REFERENCES presupuesto_programa(id),
	id_sub_programa INTEGER NOT NULL REFERENCES presupuesto_sub_programa(id),
	actividad TEXT NOT NULL,
	denominacion TEXT,
	ano INTEGER,
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

CREATE TABLE presupuesto_forma2103(
	id SERIAL PRIMARY KEY,
	ano integer NOT NULL,
	id_sector INTEGER NOT NULL REFERENCES  presupuesto_sector(id),
	id_programa INTEGER NOT NULL REFERENCES  presupuesto_programa(id),
	id_sub_programa INTEGER REFERENCES  presupuesto_sub_programa(id),
	unidad_ejecutora TEXT,
	funcionario_responsable TEXT,
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

---------------------------------------------------------------------------
---------------------------------------------------------------------------

CREATE TABLE presupuesto_ramo(
	id SERIAL PRIMARY KEY,
	ramo TEXT NOT NULL,
	descripcion TEXT,
	monto DECIMAL(26,2),
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);


CREATE TABLE presupuesto_sub_ramo(
	id SERIAL PRIMARY KEY,
	id_ramo INTEGER NOT NULL REFERENCES presupuesto_ramo(id),
	sub_ramo TEXT NOT NULL,
	descripcion TEXT,
	monto DECIMAL(26,2),
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

CREATE TABLE presupuesto_especifico(
	id SERIAL PRIMARY KEY,
	id_sub_ramo INTEGER NOT NULL REFERENCES presupuesto_sub_ramo(id),
	especifico TEXT NOT NULL,
	descripcion TEXT,
	monto DECIMAL(26,2),
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

CREATE TABLE presupuesto_sub_especifico(
	id SERIAL PRIMARY KEY,
	id_especifico INTEGER  REFERENCES presupuesto_especifico(id),
	sub_especifico TEXT NOT NULL,
	descripcion TEXT,
	monto DECIMAL(26,2),
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

CREATE TABLE presupuesto_ordinal(
	id SERIAL PRIMARY KEY,
	id_sub_especifico INTEGER  REFERENCES presupuesto_sub_especifico(id),
	ordinal TEXT NOT NULL,
	descripcion TEXT,
	monto DECIMAL(26,2),
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);


CREATE TABLE presupuesto_ordinal_nuevo(
	id SERIAL PRIMARY KEY,
	id_sub_especifico INTEGER  REFERENCES presupuesto_sub_especifico(id),
	ordinal TEXT NOT NULL,
	descripcion TEXT,
	monto DECIMAL(26,2)
);


CREATE TABLE presupuesto_forma2102(
	id SERIAL PRIMARY KEY,
	ano integer NOT NULL,
	id_ramo INTEGER NOT NULL REFERENCES  presupuesto_ramo(id),
	id_sub_ramo INTEGER NOT NULL REFERENCES  presupuesto_sub_ramo(id),
	id_especifico INTEGER REFERENCES  presupuesto_especifico(id),
	id_sub_especifico INTEGER NOT NULL REFERENCES presupuesto_sub_especifico(id),
	ordinal INTEGER,
	tipo_ingreso BOOLEAN DEFAULT '0',
	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

---------------------------------------------------------------------
---------------------------------------------------------------------

CREATE TABLE presupuesto_forma2121(
	id SERIAL PRIMARY KEY,
	ano integer NOT NULL,
	id_sector INTEGER NOT NULL REFERENCES  presupuesto_sector(id),
	id_programa INTEGER NOT NULL REFERENCES  presupuesto_programa(id),
	id_sub_programa INTEGER NOT NULL REFERENCES  presupuesto_sub_programa(id),

	id_proyecto INTEGER REFERENCES presupuesto_proyecto(id),
	id_actividad INTEGER REFERENCES presupuesto_actividad(id),

	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);



CREATE TABLE presupuesto_egresos(
	id INTEGER NOT NULL PRIMARY KEY,
	partida VARCHAR(20) NOT NULL,
	denominacion TEXT NOT NULL
);

CREATE TABLE presupuesto_forma2121_partidas(
	id SERIAL PRIMARY KEY,
	ano integer NOT NULL,

	id_ramo INTEGER NOT NULL REFERENCES  presupuesto_ramo(id),
	id_sub_ramo INTEGER NOT NULL REFERENCES  presupuesto_sub_ramo(id),
	id_especifico INTEGER REFERENCES  presupuesto_especifico(id),
	id_sub_especifico INTEGER NOT NULL REFERENCES presupuesto_sub_especifico(id),
	ordinal INTEGER,
	tipo_ingreso BOOLEAN DEFAULT '0',

	id_sector INTEGER NOT NULL REFERENCES  presupuesto_sector(id),
	id_programa INTEGER NOT NULL REFERENCES  presupuesto_programa(id),
	id_sub_programa INTEGER NOT NULL REFERENCES  presupuesto_sub_programa(id),

	id_proyecto INTEGER REFERENCES presupuesto_proyecto(id),
	id_actividad INTEGER REFERENCES presupuesto_actividad(id),

	--id_partida INTEGER NOT NULL REFERENCES presupuesto_egresos(id),

	ingreso_propio DECIMAL(26,2) DEFAULT '0.00',
	situado DECIMAL(26,2) DEFAULT '0.00',
	ingreso_estadal DECIMAL(26,2) DEFAULT '0.00',
	ingreso_fci DECIMAL(26,2) DEFAULT '0.00',
	otra_fuente DECIMAL(26,2) DEFAULT '0.00',	
	monto DECIMAL(26,2) DEFAULT '0.00',

	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);

CREATE TABLE presupuesto_forma2121_ajuste(
	id SERIAL NOT NULL PRIMARY KEY,
	id_sector INTEGER NOT NULL,
	id_programa INTEGER NOT NULL,
	id_sub_programa INTEGER NOT NULL,
	id_proyecto INTEGER,
	id_actividad INTEGER,
	partida TEXT NOT NULL,
	tipo_ajuste TEXT DEFAULT '+', -- (+) y (-)
	incrementar DECIMAL(26,2) DEFAULT '0.00',
	disminuir DECIMAL(26,2) DEFAULT '0.00',
	ano INTEGER NOT NULL,
	fecha DATE NOT NULL DEFAULT CURRENT_DATE,

	resolucion BOOLEAN NOT NULL DEFAULT false,
	n_resolucion INTEGER NOT NULL DEFAULT 0 REFERENCES resoluciones(n_resolucion)
);


CREATE TABLE presupuesto_nuevo_ordinal(
	id SERIAL PRIMARY KEY,
	ano integer NOT NULL,

	id_ramo INTEGER NOT NULL REFERENCES  presupuesto_ramo(id),
	id_sub_ramo INTEGER NOT NULL REFERENCES  presupuesto_sub_ramo(id),
	id_especifico INTEGER REFERENCES  presupuesto_especifico(id),
	id_sub_especifico INTEGER NOT NULL REFERENCES presupuesto_sub_especifico(id),
	ordinal INTEGER,
	tipo_ingreso BOOLEAN DEFAULT '0',

	ingreso_propio DECIMAL(26,2) DEFAULT '0.00',
	situado DECIMAL(26,2) DEFAULT '0.00',
	ingreso_estadal DECIMAL(26,2) DEFAULT '0.00',
	ingreso_fci DECIMAL(26,2) DEFAULT '0.00',
	otra_fuente DECIMAL(26,2) DEFAULT '0.00',	
	monto DECIMAL(26,2) DEFAULT '0.00'
);

/*==============================================================================================*/
/* RRHH */
/*==============================================================================================*/

CREATE TABLE mrrhh_tipo_nomina(
	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_tipo_personal(
	id INTEGER NOT NULL PRIMARY KEY,
	denominacion TEXT NOT NULL,
	tipo_nomina INTEGER REFERENCES mrrhh_tipo_nomina(id)
);


CREATE TABLE porcentaje (
	id SERIAL NOT NULL PRIMARY KEY,
	porcentaje DECIMAL NOT NULL,
	denominacion TEXT
);

/* -------------------------------------------------------------------------------------- */
/* GRUPOS */
/* -------------------------------------------------------------------------------------- */
CREATE TABLE mrrhh_grupos_empleados(
 	id SERIAL NOT NULL PRIMARY KEY,
 	siglas TEXT NOT NULL,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_grupos_directivos(
 	id SERIAL NOT NULL PRIMARY KEY,
 	siglas TEXT NOT NULL,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_grupos_obreros(
 	id SERIAL NOT NULL PRIMARY KEY,
 	siglas TEXT NOT NULL,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_grupos_obreros_no_permanentes(
 	id SERIAL NOT NULL PRIMARY KEY,
 	siglas TEXT NOT NULL,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_grupos_proteccion_civil(
 	id SERIAL NOT NULL PRIMARY KEY,
 	siglas TEXT NOT NULL,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_grupos_jubilados_empleados(
 	id SERIAL NOT NULL PRIMARY KEY,
 	siglas TEXT NOT NULL,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_grupos_cementerio(
 	id SERIAL NOT NULL PRIMARY KEY,
 	siglas TEXT NOT NULL,
 	denominacion TEXT NOT NULL
);
/* -------------------------------------------------------------------------------------- */
/* Niveles */
/* -------------------------------------------------------------------------------------- */

CREATE TABLE mrrhh_sueldo_base(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion VARCHAR(5) NOT NULL,
 	sueldo_base DECIMAL(26,2) NOT NULL
);

CREATE TABLE mrrhh_niveles_empleados(
 	id SERIAL NOT NULL PRIMARY KEY,
 	grupo INTEGER NOT NULL REFERENCES mrrhh_grupos_empleados(id),
 	denominacion VARCHAR(5) NOT NULL,
 	sueldo_base DECIMAL(26,2) NOT NULL
);

CREATE TABLE mrrhh_niveles_directivos(
 	id SERIAL NOT NULL PRIMARY KEY,
 	grupo INTEGER NOT NULL REFERENCES mrrhh_grupos_directivos(id),
 	denominacion VARCHAR(5) NOT NULL,
 	sueldo_base DECIMAL(26,2) NOT NULL
);

CREATE TABLE mrrhh_niveles_obreros(
 	id SERIAL NOT NULL PRIMARY KEY,
 	grupo INTEGER NOT NULL REFERENCES mrrhh_grupos_obreros(id),
 	denominacion VARCHAR(5) NOT NULL,
 	sueldo_base DECIMAL(26,2) NOT NULL
);

CREATE TABLE mrrhh_niveles_obreros_no_permanentes(
 	id SERIAL NOT NULL PRIMARY KEY,
 	grupo INTEGER NOT NULL REFERENCES mrrhh_grupos_obreros_no_permanentes(id),
 	denominacion VARCHAR(5) NOT NULL,
 	sueldo_base DECIMAL(26,2) NOT NULL
);

CREATE TABLE mrrhh_niveles_proteccion_civil(
 	id SERIAL NOT NULL PRIMARY KEY,
 	grupo INTEGER NOT NULL REFERENCES mrrhh_grupos_proteccion_civil(id),
 	denominacion VARCHAR(5) NOT NULL,
 	sueldo_base DECIMAL(26,6) NOT NULL
);

CREATE TABLE mrrhh_niveles_empleados_jubilados(
 	id SERIAL NOT NULL PRIMARY KEY,
 	grupo INTEGER NOT NULL REFERENCES mrrhh_grupos_jubilados_empleados(id),
 	denominacion VARCHAR(5) NOT NULL,
 	sueldo_base DECIMAL(26,2) NOT NULL
);

CREATE TABLE mrrhh_niveles_cementerio(
 	id SERIAL NOT NULL PRIMARY KEY,
 	grupo INTEGER NOT NULL REFERENCES mrrhh_grupos_jubilados_empleados(id),
 	denominacion VARCHAR(5) NOT NULL,
 	sueldo_base DECIMAL(26,2) NOT NULL
);

/* --------------------------------------------------------------------------------*/

CREATE TABLE grados(
	id INTEGER PRIMARY KEY,
	denominacion TEXT NOT NULL,
	porcentaje DECIMAL(26,2) not null
);

CREATE TABLE grado_nivel(
	id INTEGER PRIMARY KEY,
	denominacion TEXT NOT NULL
);

CREATE TABLE grado_nivel_proteccion_civil(
id INTEGER PRIMARY KEY,
denominacion TEXT NOT NULL
);

CREATE TABLE grado_nivel_obreros(
	id INTEGER PRIMARY KEY,
	denominacion TEXT NOT NULL
);

CREATE TABLE grado_nivel_cementerio(
	id INTEGER PRIMARY KEY,
	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_empleados_fijos(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_empleados_contratados( 
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_directivos(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_obreros_fijos(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_obreros_contratados(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_proteccion_civil(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_obreros_no_permanentes(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_jubilados(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_pensionados(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_jubilados_empleados_cargo(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);

CREATE TABLE mrrhh_cargos_cementerio(
 	id SERIAL NOT NULL PRIMARY KEY,
 	denominacion TEXT NOT NULL
);


/* -------------------------------------------------------------------------------------------- */
/* PRIMAS Y BECAS*/
/* -------------------------------------------------------------------------------------------- */
create table mrrhh_primas(
	id SERIAL PRIMARY KEY,
	denominacion TEXT NOT NULL,
	monto DECIMAL(26,2) not null
);

create table mrrhh_aportes(
	id SERIAL PRIMARY KEY,
	denominacion TEXT NOT NULL,
	monto DECIMAL(26,2) not null
);

create table prima_antiguedad(
	cantidad INTEGER not null,
	porcentaje DECIMAL(26,3) not null
);

CREATE TABLE becas(
	id serial primary key not null,
	descripcion text,
	monto decimal(26,2)
);

CREATE TABLE ente_adscrito(
	id serial primary key not null,
	denominacion text
);

/* Agregue esto */
CREATE TABLE aumento_rotativo_nivel (
	id serial primary key not null,
	denominacion text not null,
	monto DECIMAL(26,2) not null
);

CREATE TABLE parametros_fijos(
	id serial primary key not null,
	descripcion text,
	monto decimal(26,2)
);


/* -------------------------------------------------------------------------------------------- */
/* TABLA DE PERSONAL */
/* -------------------------------------------------------------------------------------------- */

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_personal(
 	cedula INTEGER NOT NULL PRIMARY KEY,
 	apellidos VARCHAR(255) NOT NULL,
 	nombres VARCHAR(255) NOT NULL,
 	photo VARCHAR(255),
 	photo_dir VARCHAR(255),
 	fecha_ingreso_institucion DATE NOT NULL,
 	fecha_egreso_institucion DATE,
 	ano_servicio integer not null DEFAULT 0,
 	direccion TEXT,
 	telefono TEXT,
 	rif TEXT,
 	correo TEXT,
 	status BOOLEAN DEFAULT '1', --1. Activo y 0. Suspendido
 	genero TEXT,
	grado integer NOT NULL REFERENCES grados(id),
	ente_adscrito integer REFERENCES ente_adscrito(id),
 	hijos integer DEFAULT '0',
 	estado_civil TEXT DEFAULT 'SOLTERO',
	beca_escolar_inicial BOOLEAN DEFAULT 'false',
	beca_escolar_primaria BOOLEAN DEFAULT 'false',
	beca_escolar_secundaria BOOLEAN DEFAULT 'false',
	beca_escolar_universitaria BOOLEAN DEFAULT 'false',
	beca_escolar_discapacidad BOOLEAN DEFAULT 'false',
	prima_hogar BOOLEAN DEFAULT 'false',
	caja_ahorro BOOLEAN DEFAULT 'false',
	porcentaje_caja DECIMAL(26,2) NOT NULL DEFAULT '0',
	funeraria BOOLEAN DEFAULT 'false',
	asociacion_funeraria BOOLEAN DEFAULT 'false',
	sindicato BOOLEAN DEFAULT 'false',
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer
); 

CREATE TABLE mrrhh_historial(
	id SERIAL PRIMARY KEY,
 	cedula integer NOT NULL REFERENCES mrrhh_personal(cedula),
	tipo_nomina TEXT NOT NULL,
 	tipo_personal TEXT NOT NULL,
 	cargo TEXT NOT NULL,
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL
);

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_empleados_fijos(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_empleados(id),
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_empleados_fijos(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00'
); 

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_empleados_contratados(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_empleados(id),
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_empleados_contratados(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00'
); 

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_directivos(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_directivos(id),
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_directivos(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_obreros_fijos(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_obreros(id),
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_obreros_fijos(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00'
); 

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_obreros_contratados(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_obreros(id),
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_obreros_contratados(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00'
); 

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_obreros_no_permanentes(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_obreros_no_permanentes(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_obreros_no_permanentes(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00'
); 

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_jubilados_empleados(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_empleados(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_jubilados_empleados_cargo(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_jubilados_obreros(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_obreros(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_jubilados(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

/* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_pensionados_empleados(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_empleados(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_pensionados(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

 /* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_pensionados_sobrevivientes_e(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_empleados(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_pensionados(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

 /* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_pensionados_especiales_empleados(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_empleados(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_pensionados(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

 /* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_pensionados_sobrevivientes_o(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_obreros(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_pensionados(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

 /* PK en la entidad de la tabla*/
CREATE TABLE mrrhh_pensionados_especiales_obreros(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_obreros(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_pensionados(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

CREATE TABLE mrrhh_proteccion_civil(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_proteccion_civil(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_proteccion_civil(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00'
); 

CREATE TABLE mrrhh_cementerio(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_obreros(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER,
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00'
); 

CREATE TABLE mrrhh_comision_servicio(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_directivos(id),
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_directivos(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

CREATE TABLE mrrhh_honorario_profesionales(
 	cedula INTEGER NOT NULL PRIMARY KEY REFERENCES mrrhh_personal(cedula),
 	tipo_nomina INTEGER NOT NULL REFERENCES mrrhh_tipo_nomina(id),
 	tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	nivel INTEGER NOT NULL REFERENCES mrrhh_niveles_directivos(id) DEFAULT '1',
 	grado_nivel INTEGER NOT NULL,
 	cargo INTEGER NOT NULL REFERENCES mrrhh_cargos_directivos(id),
 	banco TEXT NOT NULL,
 	numero_cuenta TEXT NOT NULL,
 	prestamo_caja_ahorro TEXT,
 	dias_dejados_cancelar INTEGER DEFAULT '0',
 	depositario_judicial DECIMAL(26,2) DEFAULT '0.00',
 	depositario_judicial_monto DECIMAL(26,2) DEFAULT '0.00',
 	sueldo DECIMAL(26,2) NOT NULL DEFAULT 0
); 

/*==============================================================================================*/
/* HISTORICO DE RRHH */
/*==============================================================================================*/
CREATE TABLE mrrhh_requisicion(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER REFERENCES mes(id),
 	quincena INTEGER REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	tipo TEXT,
 	status INTEGER DEFAULT '0',
 	concepto TEXT,
 	concepto_mod TEXT,
 	monto DECIMAL(26,2),
 	tipo_porcentaje TEXT,
 	porcentaje TEXT,
 	-------------------------
 	concepto2 TEXT,
 	monto2 DECIMAL(26,2),
 	tipo_porcentaje2 TEXT,
 	-------------------------
 	concepto3 TEXT,
 	monto3 DECIMAL(26,2),
 	tipo_porcentaje3 TEXT,
 	-------------------------
 	concepto4 TEXT,
 	monto4 DECIMAL(26,2),
 	tipo_porcentaje4 TEXT,
 	-------------------------
 	fecha_rrhh date,
 	hora_rrhh TIME,
 	fecha_ejecucion date,
 	hora_ejecucion TIME,
 	fecha_ordenamiento date,
 	hora_ordenamiento TIME,
 	fecha_tesoreria date,
 	hora_tesoreria TIME,
 	-------------------------
 	prima_profesion BOOLEAN DEFAULT false,
 	prima_hogar BOOLEAN DEFAULT false,
 	prima_hijos BOOLEAN DEFAULT false,
 	prima_antiguedad BOOLEAN DEFAULT false,
 	sso BOOLEAN DEFAULT false,
 	rpe BOOLEAN DEFAULT false,
 	faov BOOLEAN DEFAULT false,
 	fjp BOOLEAN DEFAULT false,
 	caja_ahorro BOOLEAN DEFAULT false,
 	acofjam BOOLEAN DEFAULT false,
 	asociacion_funeraria BOOLEAN DEFAULT false,
 	depositario_judicial BOOLEAN DEFAULT false,
 	beca_escolar_inicial BOOLEAN DEFAULT false,
 	beca_escolar_primaria BOOLEAN DEFAULT false,
 	beca_escolar_secundaria BOOLEAN DEFAULT false,
 	beca_escolar_universitaria BOOLEAN DEFAULT false,
 	beca_escolar_discapacidad BOOLEAN DEFAULT false,
 	numero_orden_pago INTEGER,
 	numero_orden_pago_ord INTEGER,
 	--caso de ser personalizada
 	partida TEXT,
 	denominacion TEXT, 
 	omitida INTEGER NOT NULL DEFAULT 0,
 	desde DATE,
 	hasta DATE
);

CREATE TABLE mrrhh_requisicion_servicios(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER REFERENCES mes(id),
 	quincena INTEGER REFERENCES quincena(id),
 	id_tipo_personal INTEGER REFERENCES mrrhh_tipo_personal(id),
 	tipo TEXT,
 	status INTEGER DEFAULT '0',
 	concepto TEXT,
 	concepto_mod TEXT,
 	numero_orden_pago INTEGER,
 	numero_orden_pago_ord INTEGER,
	fecha_rrhh date,
 	hora_rrhh TIME,
 	fecha_ejecucion date,
 	hora_ejecucion TIME,
 	fecha_ordenamiento date,
 	hora_ordenamiento TIME,
 	fecha_tesoreria date,
 	hora_tesoreria TIME,
	beneficiario integer,
	letra text,
	rif text
);

CREATE TABLE mrrhh_requisicion_servicios_partidas(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	requisicion INTEGER NOT NULL REFERENCES mrrhh_requisicion_servicios(id),
 	id_partida INTEGER NOT NULL REFERENCES presupuesto_egresos(id),
 	monto DECIMAL(26,2) DEFAULT '0.00'
);

 --insert into mrrhh_requisicion(id, ano, mes, quincena, id_tipo_personal) VALUES ('9999', '2020', '1', '1', '1');

CREATE TABLE mrrhh_historico_empleados_fijos(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '31250.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_empleados_contratados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_directivos(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_obreros_fijos(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_obreros_contratados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_obreros_no_permanentes(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_empleados_jubilados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_obreros_jubilados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_empleados_pensionados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);

CREATE TABLE mrrhh_historico_empleados_pensionados_sobrevivientes(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);

CREATE TABLE mrrhh_historico_empleados_pensionados_especiales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_obreros_pensionados_sobrevivientes(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);

CREATE TABLE mrrhh_historico_obreros_pensionados_especiales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);

CREATE TABLE mrrhh_historico_proteccion_civil(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false,
 	bono_estabilidad BOOLEAN DEFAULT false,
 	vacaciones BOOLEAN DEFAULT false,
 	evaluacion BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);

CREATE TABLE mrrhh_historico_cementerio(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);

CREATE TABLE mrrhh_historico_comision_servicio(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_honorario_profesionales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);



CREATE TABLE mrrhh_hist_be_empleados_fijos(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',
 
 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_empleados_contratados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_directivos(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_obreros_fijos(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_obreros_contratados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_obreros_no_permanentes(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_empleados_jubilados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_obreros_jubilados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_empleados_pensionados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_be_empleados_pensionados_sobrevivientes(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------
 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_be_empleados_pensionados_especiales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------
 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_obreros_pensionados_sobrevivientes(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------
 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_be_obreros_pensionados_especiales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------
 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_be_proteccion_civil(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------
 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_be_cementerio(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------
 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_be_comision_servicio(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------
 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_be_honorario_profesionales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------
 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',
 	
 	procesado BOOLEAN DEFAULT false
);



CREATE TABLE mrrhh_hist_am_empleados_fijos(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_empleados_contratados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),

	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_directivos(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_obreros_fijos(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_obreros_contratados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_obreros_no_permanentes(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_empleados_jubilados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_obreros_jubilados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_empleados_pensionados(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_am_empleados_pensionados_sobrevivientes(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_am_empleados_pensionados_especiales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',

 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_obreros_pensionados_sobrevivientes(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_am_obreros_pensionados_especiales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_am_proteccion_civil(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_am_cementerio(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_hist_am_comision_servicio(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',


 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_hist_am_honorario_profesionales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
 	-------------------------------------

 	bono_dejado_c DECIMAL(26,2) DEFAULT '0.00',
 	bono_dias_cancelar DECIMAL(26,2) DEFAULT '0.00',
 	
 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_prestaciones_sociales(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	--quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);
 
CREATE TABLE mrrhh_prestaciones_socialesx(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	--quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_historico_personalizada(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);

 
CREATE TABLE mrrhh_historico_personalizadax(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_personalizada_partidas(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	partida TEXT NOT NULL,
	denominacion TEXT NOT NULL,
	monto DECIMAL(26,2) NOT NULL
);

CREATE TABLE mrrhh_cesta_ticket_empleados(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	mes INTEGER NOT NULL REFERENCES mes(id),
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	dias_trabajados INTEGER DEFAULT '30',
 	dias_faltados INTEGER DEFAULT '0',
 	dias_a_cancelar INTEGER DEFAULT '0',
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_cesta_ticket_obreros(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	mes INTEGER NOT NULL REFERENCES mes(id),
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	dias_trabajados INTEGER DEFAULT '30',
 	dias_faltados INTEGER DEFAULT '0',
 	dias_a_cancelar INTEGER DEFAULT '0',
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_cesta_ticket_proteccion_civil(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	mes INTEGER NOT NULL REFERENCES mes(id),
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	dias_trabajados INTEGER DEFAULT '30',
 	dias_faltados INTEGER DEFAULT '0',
 	dias_a_cancelar INTEGER DEFAULT '0',
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_cesta_ticket_cementerio(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	mes INTEGER NOT NULL REFERENCES mes(id),
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	dias_trabajados INTEGER DEFAULT '30',
 	dias_faltados INTEGER DEFAULT '0',
 	dias_a_cancelar INTEGER DEFAULT '0',
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	procesado BOOLEAN DEFAULT false
);

/*======================================================================================*/

CREATE TABLE mrrhh_horas_extras_empleados(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	mes INTEGER NOT NULL REFERENCES mes(id),
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	cantidad_dias INTEGER DEFAULT '30',
 	dias_no_laborables INTEGER DEFAULT '0',
 	cantidad_horas INTEGER DEFAULT '0',
 	cantidad_horas_extra_diurnas INTEGER DEFAULT '0',
 	cantidad_horas_extra_nocturnas INTEGER DEFAULT '0',
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	monto_horas_diurnas DECIMAL(26,2) DEFAULT '0.00',
 	monto_horas_nocturnas DECIMAL(26,2) DEFAULT '0.00',
 	monto_dias_no_laborables DECIMAL(26,2) DEFAULT '0.00',
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);

CREATE TABLE mrrhh_horas_extras_obreros(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	mes INTEGER NOT NULL REFERENCES mes(id),
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	cantidad_dias INTEGER DEFAULT '30',
 	dias_no_laborables INTEGER DEFAULT '0',
 	cantidad_horas INTEGER DEFAULT '0',
 	cantidad_horas_extra_diurnas INTEGER DEFAULT '0',
 	cantidad_horas_extra_nocturnas INTEGER DEFAULT '0',
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	monto_horas_diurnas DECIMAL(26,2) DEFAULT '0.00',
 	monto_horas_nocturnas DECIMAL(26,2) DEFAULT '0.00',
 	monto_dias_no_laborables DECIMAL(26,2) DEFAULT '0.00',
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_vacaciones(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	mes INTEGER NOT NULL REFERENCES mes(id),
	quincena INTEGER REFERENCES quincena(id),
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	------------------------------------- 	
 	fecha_salida date,
 	fecha_entrada date,
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	alicuota_v BOOLEAN DEFAULT true,
 	monto_av DECIMAL(26,2) DEFAULT '0.00',
 	alicuota_f BOOLEAN DEFAULT true,
 	monto_af DECIMAL(26,2) DEFAULT '0.00',
 	alicuota BOOLEAN DEFAULT true,
 	monto_a DECIMAL(26,2) DEFAULT '0.00',
 	disfrute BOOLEAN DEFAULT true,
 	monto_disfrute DECIMAL(26,2) DEFAULT '0.00',
 	bono_v BOOLEAN DEFAULT true,
 	quinquenio INTEGER DEFAULT '0',
 	dias INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
 	horas_extras DECIMAL(26,2)  DEFAULT 0.00,

 	-----------------------------------------
 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_vacaciones_obreros(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	--- Diferencias, reeincorporacion y ajustes
 	dias INTEGER  DEFAULT '0',
 	bono_vacacional DECIMAL(26,2) DEFAULT '0.00', 
 	disfrute DECIMAL(26,2) DEFAULT '0.00', 
	-------------------------------------
	fecha_desde DATE DEFAULT CURRENT_DATE,
	fecha_hasta DATE,
	fecha_reintegro DATE,
	cantidad_dias INTEGER,

	alicuota_v BOOLEAN DEFAULT true,
	alicuota_f BOOLEAN DEFAULT true,
	alicuota BOOLEAN DEFAULT true,
	disfrute_v BOOLEAN DEFAULT true,
	bono_v BOOLEAN DEFAULT true,
	dias_d INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
	horas_extras DECIMAL(26,2)  DEFAULT 0.00,

 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_vacaciones_obrerosx(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias INTEGER  DEFAULT '0',
 	bono_vacacional DECIMAL(26,2) DEFAULT '0.00', 
 	disfrute DECIMAL(26,2) DEFAULT '0.00', 
	-------------------------------------
	fecha_desde DATE DEFAULT CURRENT_DATE,
	fecha_hasta DATE,
	fecha_reintegro DATE,
	cantidad_dias INTEGER,

	alicuota_v BOOLEAN DEFAULT true,
	alicuota_f BOOLEAN DEFAULT true,
	alicuota BOOLEAN DEFAULT true,
	disfrute_v BOOLEAN DEFAULT true,
	bono_v BOOLEAN DEFAULT true,
	dias_d INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
	horas_extras DECIMAL(26,2)  DEFAULT 0.00,
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_vacacionesx(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	mes INTEGER NOT NULL REFERENCES mes(id),
	quincena INTEGER REFERENCES quincena(id),
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	------------------------------------- 	
 	fecha_salida date,
 	fecha_entrada date,
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	alicuota_v BOOLEAN DEFAULT true,
 	monto_av DECIMAL(26,2) DEFAULT '0.00',
 	alicuota_f BOOLEAN DEFAULT true,
 	monto_af DECIMAL(26,2) DEFAULT '0.00',
 	alicuota BOOLEAN DEFAULT true,
 	monto_a DECIMAL(26,2) DEFAULT '0.00',
 	disfrute BOOLEAN DEFAULT true,
 	monto_disfrute DECIMAL(26,2) DEFAULT '0.00',
 	bono_v BOOLEAN DEFAULT true,
 	quinquenio INTEGER DEFAULT '0',
 	dias INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
 	horas_extras DECIMAL(26,2)  DEFAULT 0.00,

 	-----------------------------------------
 	procesado BOOLEAN DEFAULT false
);





CREATE TABLE mrrhh_fin(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	desde DATE NOT NULL,
	hasta DATE NOT NULL,
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	------------------------------------- 	
 	fecha_salida date,
 	fecha_entrada date,
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	alicuota_v BOOLEAN DEFAULT true,
 	monto_av DECIMAL(26,2) DEFAULT '0.00',
 	alicuota_f BOOLEAN DEFAULT true,
 	monto_af DECIMAL(26,2) DEFAULT '0.00',
 	alicuota BOOLEAN DEFAULT true,
 	monto_a DECIMAL(26,2) DEFAULT '0.00',
 	disfrute BOOLEAN DEFAULT true,
 	monto_disfrute DECIMAL(26,2) DEFAULT '0.00',
 	bono_v BOOLEAN DEFAULT true,
 	quinquenio INTEGER DEFAULT '0',
 	dias INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
 	horas_extras DECIMAL(26,2)  DEFAULT 0.00,

 	-----------------------------------------
 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_finx(
	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
	ano INTEGER NOT NULL,
	desde DATE NOT NULL,
	hasta DATE NOT NULL,
	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula SERIAL NOT NULL REFERENCES mrrhh_personal(cedula),
 	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	------------------------------------- 	
 	fecha_salida date,
 	fecha_entrada date,
 	monto DECIMAL(26,2) DEFAULT '0.00',
 	alicuota_v BOOLEAN DEFAULT true,
 	monto_av DECIMAL(26,2) DEFAULT '0.00',
 	alicuota_f BOOLEAN DEFAULT true,
 	monto_af DECIMAL(26,2) DEFAULT '0.00',
 	alicuota BOOLEAN DEFAULT true,
 	monto_a DECIMAL(26,2) DEFAULT '0.00',
 	disfrute BOOLEAN DEFAULT true,
 	monto_disfrute DECIMAL(26,2) DEFAULT '0.00',
 	bono_v BOOLEAN DEFAULT true,
 	quinquenio INTEGER DEFAULT '0',
 	dias INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
 	horas_extras DECIMAL(26,2)  DEFAULT 0.00,

 	-----------------------------------------
 	procesado BOOLEAN DEFAULT false
);


CREATE TABLE mrrhh_fin_obreros(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	desde DATE NOT NULL,
	hasta DATE NOT NULL,
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	--- Diferencias, reeincorporacion y ajustes
 	dias INTEGER  DEFAULT '0',
 	bono_vacacional DECIMAL(26,2) DEFAULT '0.00', 
 	disfrute DECIMAL(26,2) DEFAULT '0.00', 
	-------------------------------------
	fecha_desde DATE DEFAULT CURRENT_DATE,
	fecha_hasta DATE,
	fecha_reintegro DATE,
	cantidad_dias INTEGER,

	alicuota_v BOOLEAN DEFAULT true,
	alicuota_f BOOLEAN DEFAULT true,
	alicuota BOOLEAN DEFAULT true,
	disfrute_v BOOLEAN DEFAULT true,
	bono_v BOOLEAN DEFAULT true,
	dias_d INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
	horas_extras DECIMAL(26,2)  DEFAULT 0.00,

 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_fin_obrerosx(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	desde DATE NOT NULL,
	hasta DATE NOT NULL,
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias INTEGER  DEFAULT '0',
 	bono_vacacional DECIMAL(26,2) DEFAULT '0.00', 
 	disfrute DECIMAL(26,2) DEFAULT '0.00', 
	-------------------------------------
	fecha_desde DATE DEFAULT CURRENT_DATE,
	fecha_hasta DATE,
	fecha_reintegro DATE,
	cantidad_dias INTEGER,

	alicuota_v BOOLEAN DEFAULT true,
	alicuota_f BOOLEAN DEFAULT true,
	alicuota BOOLEAN DEFAULT true,
	disfrute_v BOOLEAN DEFAULT true,
	bono_v BOOLEAN DEFAULT true,
	dias_d INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
	horas_extras DECIMAL(26,2)  DEFAULT 0.00,
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);

CREATE TABLE mrrhh_formulacion(
	id SERIAL PRIMARY KEY,
	ano INTEGER NOT NULL,
	tipo TEXT NOT NULL,
	subtipo TEXT NOT NULL,
	----------------------------------------------------
	ano_real_femenino INTEGER NOT NULL DEFAULT '0',
	ano_real_maculino INTEGER NOT NULL DEFAULT '0',
	ano_real_monto DECIMAL(26,2) NOT NULL DEFAULT '0.00',
	ano_real_incidencias DECIMAL(26,2) DEFAULT '0.00',
	----------------------------------------------------
	ultimo_ano_femenino INTEGER DEFAULT '0',
	ultimo_ano_maculino INTEGER DEFAULT '0',
	ultimo_ano_monto DECIMAL(26,2) DEFAULT '0.00',
	ultimo_ano_incidencias DECIMAL(26,2) DEFAULT '0.00',
	----------------------------------------------------
	ano_presupuestado_femenino INTEGER DEFAULT '0',
	ano_presupuestado_maculino INTEGER DEFAULT '0',
	ano_presupuestado_monto DECIMAL(26,2) DEFAULT '0.00',
	ano_presupuestado_incidencias DECIMAL(26,2) DEFAULT '0.00',
	----------------------------------------------------
	ano_real_primas DECIMAL(26,2) DEFAULT 0.00,
  	ultimo_ano_primas DECIMAL(26,2) DEFAULT 0.00,
  	ano_presupuestado_primas DECIMAL(26,2) DEFAULT 0.00,
  	----------------------------------------------------
	ano_real_compensaciones DECIMAL(26,2) DEFAULT 0.00,
  	ultimo_ano_compensaciones DECIMAL(26,2) DEFAULT 0.00,
  	ano_presupuestado_compensaciones DECIMAL(26,2) DEFAULT 0.00
);


create table mrrhh_ultimo_sueldo(
	id SERIAL PRIMARY KEY,
	cedula INTEGER,
	id_tipo_personal INTEGER,
	mes INTEGER,
	quincena INTEGER,
	monto DECIMAL,
	tipo TEXT,
	ano INTEGER
);

CREATE TABLE mrrhh_historico_retroactivo(
 	id SERIAL PRIMARY KEY,
 	requisicion INTEGER NOT NULL,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	sueldo_anterior DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);

CREATE TABLE mrrhh_historico_retroactivox(
 	id SERIAL PRIMARY KEY,
 	requisicion INTEGER NOT NULL,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	sueldo_anterior DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias_dejados_c INTEGER  DEFAULT '0',
 	ajuste_sueldo DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_profesion DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_antiguedad DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hijos DECIMAL(26,2) DEFAULT '0.00', 
 	ajuste_p_hogar DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_caja DECIMAL(26,2) DEFAULT '0.00',

 	ajuste_a_sso DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_rpe DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_faov DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_fpj DECIMAL(26,2) DEFAULT '0.00',
 	ajuste_a_caja DECIMAL(26,2) DEFAULT '0.00',
 	-------------------------------------
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0
);


CREATE TABLE mrrhh_historico_retroactivo_v(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias INTEGER  DEFAULT '0',
 	bono_vacacional DECIMAL(26,2) DEFAULT '0.00', 
 	disfrute DECIMAL(26,2) DEFAULT '0.00', 
	-------------------------------------
	fecha_desde DATE DEFAULT CURRENT_DATE,
	fecha_hasta DATE,
	fecha_reintegro DATE,
	cantidad_dias INTEGER,

	alicuota_v BOOLEAN DEFAULT true,
	alicuota_f BOOLEAN DEFAULT true,
	alicuota BOOLEAN DEFAULT true,
	disfrute_v BOOLEAN DEFAULT true,
	bono_v BOOLEAN DEFAULT true,
	dias_d INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
	horas_extras DECIMAL(26,2)  DEFAULT 0.00,
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0,
 	sueldo_anterior decimal(26,2)
);

CREATE TABLE mrrhh_historico_retroactivo_vx(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro  DECIMAL(26,2),
	-------------------------------------
 	--- Diferencias, reeincorporacion y ajustes
 	dias INTEGER  DEFAULT '0',
 	bono_vacacional DECIMAL(26,2) DEFAULT '0.00', 
 	disfrute DECIMAL(26,2) DEFAULT '0.00', 
	-------------------------------------
	fecha_desde DATE DEFAULT CURRENT_DATE,
	fecha_hasta DATE,
	fecha_reintegro DATE,
	cantidad_dias INTEGER,

	alicuota_v BOOLEAN DEFAULT true,
	alicuota_f BOOLEAN DEFAULT true,
	alicuota BOOLEAN DEFAULT true,
	disfrute_v BOOLEAN DEFAULT true,
	bono_v BOOLEAN DEFAULT true,
	dias_d INTEGER  DEFAULT '0',
 	dias_bono INTEGER  DEFAULT '0',
	horas_extras DECIMAL(26,2)  DEFAULT 0.00,
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false, 
 	omitida INTEGER NOT NULL DEFAULT 0,
 	sueldo_anterior decimal(26,2)
);

/*==============================================================================================*/
/* MODULO DE COMPRA */
/*==============================================================================================*/

CREATE TABLE compra_requisicion(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL,
 	fecha date NOT NULL,
 	tipo TEXT,
 	status INTEGER DEFAULT '0',
 	fecha_rrhh date,
 	hora_rrhh TIME,
 	fecha_ejecucion date,
 	hora_ejecucion TIME,
 	fecha_ordenamiento date,
 	hora_ordenamiento TIME,
 	fecha_tesoreria date,
 	hora_tesoreria TIME,
 	numero_orden_pago INTEGER,
 	numero_orden_pago_ord INTEGER,
 	numero_orden_pago_ord2 INTEGER,
 	numero_orden_pago_ord3 INTEGER,
 	numero_orden_pago_ord4 INTEGER,
 	status1 BOOLEAN DEFAULT 'false',
 	status2 BOOLEAN DEFAULT 'false',
 	status3 BOOLEAN DEFAULT 'false',
 	status4 BOOLEAN DEFAULT 'false'
);

CREATE TABLE compra_proveedores (
	rif INTEGER NOT NULL PRIMARY KEY,
	letra TEXT NOT NULL,
	razon_social TEXT,
	responsable TEXT,
	direccion TEXT,
	telefono TEXT,
	actividad TEXT,
	estado BOOLEAN DEFAULT '1',
	ci_responsable INTEGER
);

CREATE TABLE compra_orden_compras (
	id SERIAL NOT NULL PRIMARY KEY,
	requisicion INTEGER NOT NULL,
	fecha date NOT NULL,
	ano INTEGER NOT NULL,
	proveedor INTEGER NOT NULL REFERENCES compra_proveedores(rif),
	descripcion_ordena TEXT NOT NULL,
 	descripcion_ordena_mod TEXT
);

CREATE TABLE compra_orden_compras_items (
	id SERIAL NOT NULL PRIMARY KEY,
	id_orden INTEGER NOT NULL REFERENCES compra_orden_compras(id),
	unidad_solicitante INTEGER NOT NULL REFERENCES presupuesto_forma2121(id),
	descripcion_item TEXT NOT NULL,
	id_partida INTEGER NOT NULL REFERENCES presupuesto_forma2121_partidas(id),
	descripcion_partida TEXT NOT NULL,
	cantidad INTEGER NOT NULL,
	unidad_medida TEXT,
	precio_unitario DECIMAL(26,2),
	iva DECIMAL(26,2),
	sub_total DECIMAL(26,2),
	fecha date NOT NULL,
	ano INTEGER NOT NULL
);

CREATE TABLE compra_orden_servicio (
	id SERIAL NOT NULL PRIMARY KEY,
	requisicion INTEGER NOT NULL,
	fecha date NOT NULL,
	ano INTEGER NOT NULL,
	proveedor INTEGER NOT NULL REFERENCES compra_proveedores(rif),
	descripcion_ordena TEXT NOT NULL,
	descripcion_ordena_mod TEXT
);

CREATE TABLE compra_orden_servicio_items (
	id SERIAL NOT NULL PRIMARY KEY,
	id_orden INTEGER NOT NULL REFERENCES compra_orden_servicio(id),
	unidad_solicitante INTEGER NOT NULL REFERENCES presupuesto_forma2121(id),
	descripcion_item TEXT NOT NULL,
	id_partida INTEGER NOT NULL REFERENCES presupuesto_forma2121_partidas(id),
	descripcion_partida TEXT NOT NULL,
	cantidad INTEGER NOT NULL,
	unidad_medida TEXT,
	precio_unitario DECIMAL(26,2),
	iva DECIMAL(26,2),
	sub_total DECIMAL(26,2),
	fecha date NOT NULL,
	ano INTEGER NOT NULL
);

/*==============================================================================================*/
/* MODULO DE EJECUCION */
/*==============================================================================================*/
CREATE TABLE ejecucion_requisicion_nomina (
	id SERIAL NOT NULL PRIMARY KEY,
	id_requisicion INTEGER NOT NULL REFERENCES mrrhh_requisicion(id),
	partida TEXT NOT NULL,
	denominacion TEXT NOT NULL,
	monto_comprometer DECIMAL(26,2) NOT NULL,
	ano INTEGER NOT NULL,
	fecha DATE NOT NULL DEFAULT CURRENT_DATE
);

CREATE TABLE ejecucion_requisicion_compra (
	id SERIAL NOT NULL PRIMARY KEY,
	id_requisicion INTEGER NOT NULL REFERENCES compra_requisicion(id),
	partida TEXT NOT NULL,
	denominacion TEXT NOT NULL,
	monto_comprometer DECIMAL(26,2) NOT NULL,
	ano INTEGER NOT NULL,
	fecha DATE NOT NULL DEFAULT CURRENT_DATE
);

--NUEVO
CREATE TABLE ejecucion_requisicion_servicio (
	id SERIAL NOT NULL PRIMARY KEY,
	id_requisicion INTEGER NOT NULL REFERENCES mrrhh_requisicion_servicios(id),
	partida TEXT NOT NULL,
	denominacion TEXT NOT NULL,
	monto_comprometer DECIMAL(26,2) NOT NULL,
	ano INTEGER NOT NULL,
	fecha DATE NOT NULL DEFAULT CURRENT_DATE
);

CREATE TABLE ejecucion_beneficiarios (
	cedula INTEGER NOT NULL PRIMARY KEY,
	letra TEXT NOT NULL,
	nombres TEXT,
	direccion TEXT,
	telefono TEXT,
	actividad TEXT,
	estado BOOLEAN DEFAULT '1'
);

CREATE TABLE ejecucion_requisicion_transferencia(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL,
 	fecha date NOT NULL,
 	tipo TEXT,
 	status INTEGER DEFAULT '0', 
 	fecha_rrhh date,
 	hora_rrhh TIME,
 	fecha_ejecucion date,
 	hora_ejecucion TIME,
 	fecha_ordenamiento date,
 	hora_ordenamiento TIME,
 	fecha_tesoreria date,
 	hora_tesoreria TIME,
 	numero_orden_pago INTEGER,
 	numero_orden_pago_ord INTEGER
);

CREATE TABLE ejecucion_transferencia (
	id SERIAL NOT NULL PRIMARY KEY,
	requisicion INTEGER NOT NULL,
	fecha date NOT NULL,
	ano INTEGER NOT NULL,
	beneficiario INTEGER NOT NULL REFERENCES ejecucion_beneficiarios(cedula),
	descripcion_ordena TEXT NOT NULL,
	descripcion_ordena_mod TEXT
);

CREATE TABLE ejecucion_transferencia_items (
	id SERIAL NOT NULL PRIMARY KEY,
	id_orden INTEGER NOT NULL REFERENCES ejecucion_transferencia(id),
	unidad_solicitante INTEGER NOT NULL REFERENCES presupuesto_forma2121(id),
	descripcion_item TEXT NOT NULL,
	id_partida INTEGER NOT NULL,
	descripcion_partida TEXT NOT NULL,
	cantidad INTEGER NOT NULL,
	unidad_medida TEXT,
	precio_unitario DECIMAL(26,2),
	iva DECIMAL(26,2),
	sub_total DECIMAL(26,2),
	fecha date NOT NULL,
	ano INTEGER NOT NULL
);

/*==============================================================================================*/
/* ORDENAMIENTO */
CREATE TABLE ordenamiento_tipo_calculo (
	id SERIAL NOT NULL PRIMARY KEY,
	denominacion TEXT,
	tipo TEXT,
	porcentaje DECIMAL
);



CREATE TABLE ordenamiento_nomina (
	id SERIAL NOT NULL PRIMARY KEY,
	id_requisicion INTEGER NOT NULL REFERENCES mrrhh_requisicion(id),
	n_factura TEXT NOT NULL,
	n_control TEXT NOT NULL,
	fecha DATE NOT NULL,
	tipo_calculo INTEGER NOT NULL,
	bs DECIMAL(26,2),
	tipo_porcentaje DECIMAL(26,2),
	neto DECIMAL(26,2) NOT NULL,
	ano INTEGER NOT NULL
);

CREATE TABLE ordenamiento_compra (
	id SERIAL NOT NULL PRIMARY KEY,
	id_requisicion INTEGER NOT NULL REFERENCES compra_requisicion(id),
	n_factura TEXT NOT NULL,
	n_control TEXT NOT NULL,
	fecha DATE NOT NULL,
	tipo_calculo INTEGER NOT NULL,
	bs DECIMAL(26,2),
	tipo_porcentaje DECIMAL(26,2),
	neto DECIMAL(26,2) NOT NULL,
	ano INTEGER NOT NULL,
	fraccion integer default 1,
	observacion TEXT
);

CREATE TABLE ordenamiento_transferencia (
	id SERIAL NOT NULL PRIMARY KEY,
	id_requisicion INTEGER NOT NULL REFERENCES ejecucion_requisicion_transferencia(id),
	n_factura TEXT,
	n_control TEXT,
	fecha DATE NOT NULL,
	tipo_calculo INTEGER NOT NULL,
	bs DECIMAL(26,2),
	tipo_porcentaje DECIMAL(26,2),
	neto DECIMAL(26,2) NOT NULL,
	ano INTEGER NOT NULL
);

CREATE TABLE ordenamiento_servicio (
	id SERIAL NOT NULL PRIMARY KEY,
	id_requisicion INTEGER NOT NULL REFERENCES mrrhh_requisicion_servicios(id),
	n_factura TEXT,
	n_control TEXT,
	fecha DATE NOT NULL,
	tipo_calculo INTEGER NOT NULL,
	bs DECIMAL(26,2),
	tipo_porcentaje DECIMAL(26,2),
	neto DECIMAL(26,2) NOT NULL,
	ano INTEGER NOT NULL
);


/*==============================================================================================*/
/* TESORERIA */
/*==============================================================================================*/
CREATE TABLE tesoreria_cuentas (
	id_banco SERIAL NOT NULL PRIMARY KEY,
	numero_cuenta TEXT NOT NULL,
	nombre_banco TEXT NOT NULL,
	representante TEXT NOT NULL,
	fecha_apertura DATE,
	saldo DECIMAL,
	tipo BOOLEAN DEFAULT 'true', --(true) Emisores - (false) Receptores
	cedula integer not null
);


-- APARTIR DE AQUI COMENTE 2 TABLAS Y UNA LIENA EN LA TABLA tesoreria_pago

/*
CREATE TABLE tesoreria_chequeras (
	numero_chequera TEXT NOT NULL PRIMARY KEY,
	numero_cuenta TEXT REFERENCES tesoreria_cuentas(id_banco),
	fecha_chequera DATE NOT NULL,
	cantidad_cheques INTEGER NOT NULL,
	numero_inicio INTEGER NOT NULL
);

CREATE TABLE tesoreria_cheques (
	id serial NOT NULL PRIMARY KEY,
	numero_cuenta TEXT REFERENCES tesoreria_cuentas(id_banco),
	numero_chequera TEXT REFERENCES tesoreria_chequeras(numero_chequera),
	numero_cheque TEXT NOT NULL,
	status INTEGER DEFAULT 0 -- 0. Activo, 1. Pagado, 2. Anulado
);*/

/*==============================================================================================*/

CREATE TABLE tesoreria_operacion (
	id SERIAL NOT NULL PRIMARY KEY,
	denominacion TEXT NOT NULL
);

CREATE TABLE tesoreria_pago (
	id SERIAL NOT NULL PRIMARY KEY,
	requisicion INTEGER NOT NULL,
	numero_orden_pago INTEGER NOT NULL,
	numero_orden_pago_ord INTEGER NOT NULL,
	id_operacion INTEGER NOT NULL REFERENCES tesoreria_operacion(id),
	n_referencia TEXT,
	n_cheque TEXT,
	n_control_cheque TEXT,
	fecha DATE DEFAULT CURRENT_DATE,
	pago TEXT,
	--numero_cuenta TEXT NOT NULL REFERENCES tesoreria_cuentas(numero_cuenta),
	descripcion TEXT,
	monto DECIMAL(26,2)
);



CREATE TABLE pu_tesoreria (
  idplanunico INTEGER NOT NULL,
  partida TEXT,
  generico TEXT,
  especifico TEXT,
  subespecifico TEXT,
  descripcion TEXT DEFAULT 'Indefinido',
  idtipcueban INTEGER DEFAULT NULL,
  idconban INTEGER DEFAULT NULL,
  cnomequipo TEXT DEFAULT 'Indefinido'
);


/*CREATE TABLE registros_hacienda(
	id_banco INTEGER REFERENCES tesoreria_cuentas(id_banco),
	recibo INTEGER NOT NULL,
	referencia TEXT NOT NULL,
	monto DECIMAL(24,2) NOT NULL,
	descripcion TEXT,
	fecha_documento DATE,
	fecha_pago DATE NOT NULL

);*/


CREATE TABLE registros_hacienda(
	id SERIAL PRIMARY KEY,
	banco INTEGER NOT NULL REFERENCES tesoreria_cuentas(id_banco),
	numero_cuenta TEXT NOT NULL,
	recibo INTEGER NOT NULL,
	referencia TEXT NOT NULL,
	monto_debe DECIMAL(24,2) NOT NULL,
	monto_haber DECIMAL(24,2) NOT NULL, --NUEVO
	saldo DECIMAL(24,2) NOT NULL,  -- NUEVO
	tipo TEXT, --NUEVO
	descripcion TEXT,
	fecha_documento DATE,
	fecha_pago DATE NOT NULL,
	revision BOOLEAN DEFAULT 'FALSE'
);


CREATE TABLE conciliacion_hacienda(
	id SERIAL PRIMARY KEY,
	id_banco INTEGER NOT NULL REFERENCES tesoreria_cuentas(id_banco),
	numero_cuenta TEXT NOT NULL,
	fecha_inicio DATE NOT NULL,
	fecha_corte DATE NOT NULL,
	descripcion TEXT,
	saldo_libro DECIMAL(24,2) NOT NULL, 
	saldo_estado_cuenta DECIMAL(24,2) NOT NULL,
	status BOOLEAN DEFAULT 'false'
);

CREATE TABLE conciliacion_hacienda_c(
	id SERIAL PRIMARY KEY,
	id_conciliacion INTEGER NOT NULL REFERENCES conciliacion_hacienda(id),
	fecha DATE NOT NULL,
	motivo TEXT NOT NULL,
	monto DECIMAL(24,2) NOT NULL
);

CREATE TABLE conciliacion_hacienda_d(
	id SERIAL PRIMARY KEY,
	id_conciliacion INTEGER NOT NULL REFERENCES conciliacion_hacienda(id),
	fecha DATE NOT NULL,
	numero TEXT NOT NULL,
	concepto TEXT NOT NULL,
	monto DECIMAL(24,2) NOT NULL
);

CREATE OR REPLACE VIEW view_conciliacion_hacienda AS 
	SELECT 
		a.id,
		a.id_banco,
		a.numero_cuenta,
	 	(SELECT nombre_banco FROM tesoreria_cuentas WHERE a.id_banco = id_banco limit 1) as nombre_banco,
		a.fecha_inicio,
		a.fecha_corte,
		a.descripcion,
		a.saldo_libro,
		a.saldo_estado_cuenta,
		(select count(*) from conciliacion_hacienda_c where a.id = id_conciliacion) as n_c,
		(select count(*) from conciliacion_hacienda_d where a.id = id_conciliacion) as n_d
	  FROM conciliacion_hacienda a ORDER BY a.id ASC;
-------------------------------------------------------------------------------------------------
--HISTORICO PAGO RETROACTIVO NOMINA --
-------------------------------------------------------------------------------------------------


CREATE TABLE mrrhh_historico_retroactivo_nomina(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	porcentaje_aumneto DECIMAL(26,4),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);
 
CREATE TABLE mrrhh_historico_retroactivo_nominax(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	porcentaje_aumneto DECIMAL(26,4),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);



-------------------------------------------------------------------------------------------------
--HISTORICO PAGO RETROACTIVO BONO ESTABILIDAD ECONOMICA --
-------------------------------------------------------------------------------------------------



CREATE TABLE mrrhh_historico_retroactivo_nominabe(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	porcentaje_aumneto DECIMAL(26,4),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);
 
CREATE TABLE mrrhh_historico_retroactivo_nominabex(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	porcentaje_aumneto DECIMAL(26,4),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);





-------------------------------------------------------------------------------------------------
--HISTORICO PAGO RETROACTIVO BONO ASISTENCIA MEDICA --
-------------------------------------------------------------------------------------------------



CREATE TABLE mrrhh_historico_retroactivo_nominaam(
 	id SERIAL PRIMARY KEY,
 	requisicion SERIAL NOT NULL REFERENCES mrrhh_requisicion(id),
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	porcentaje_aumneto DECIMAL(26,4),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);
 
CREATE TABLE mrrhh_historico_retroactivo_nominaamX(
 	id SERIAL PRIMARY KEY,
 	ano INTEGER NOT NULL,
 	mes INTEGER NOT NULL REFERENCES mes(id),
 	quincena INTEGER NOT NULL REFERENCES quincena(id),
 	id_tipo_personal INTEGER NOT NULL REFERENCES mrrhh_tipo_personal(id),
 	cedula INTEGER NOT NULL REFERENCES mrrhh_personal(cedula),
	ente_adscrito TEXT,
 	status BOOLEAN,
 	-------------------------------------
 	ano_servicio INTEGER,
	anos_institucion INTEGER,
	anos_servicio INTEGER,
	grado_porcentaje DECIMAL(26,2),
	grupo TEXT,
	sueldo_base DECIMAL(26,2),
	sueldo DECIMAL(26,2),
	porcentaje_aumneto DECIMAL(26,4),
	grado_nivel INTEGER,
	denominacion_grado_nivel TEXT,
	beca_escolar_inicial BOOLEAN,
	beca_escolar_primaria BOOLEAN,
	beca_escolar_secundaria BOOLEAN,
	beca_escolar_universitaria BOOLEAN,
	beca_escolar_discapacidad BOOLEAN,
	cantidad_beca_inicial integer, 
	cantidad_beca_primaria integer,
	cantidad_beca_secundaria integer,
	cantidad_beca_universitaria integer,
	cantidad_beca_discapacidad integer,
	monto_becas DECIMAL(26,2) DEFAULT '31250.00',
	prima_hogar BOOLEAN,
	monto_hogar DECIMAL(26,2) DEFAULT '31250.00',
	caja_ahorro BOOLEAN,
	prestamo_caja_ahorro TEXT,
	dias_dejados_cancelar TEXT,
	funeraria BOOLEAN,
	monto_funeraria DECIMAL(26,2) DEFAULT '10000.00',
	asociacion_funeraria BOOLEAN,
	sindicato BOOLEAN,
	monto_sindicato DECIMAL(26,2) DEFAULT '125000.00',
	hijos INTEGER,
	prima_hijos DECIMAL(26,2) DEFAULT '125000.00',
	antiguedad INTEGER,

	--Para calcular con el Sueldo automatizado
	prima_profesion DECIMAL(26,2),
	prima_antiguedad DECIMAL(26,2),
	deduccion_sso DECIMAL(26,2),
	deduccion_rpe DECIMAL(26,2),
	deduccion_fpj DECIMAL(26,2),
	depositario_judicial DECIMAL(26,2),
	depositario_judicial_monto DECIMAL(26,2),
	deduccion_caja_ahorro DECIMAL(26,2),
	aporte_patronal_asso DECIMAL(26,2),
	aporte_patronal_arpe DECIMAL(26,2),
	aporte_patronal_afpj DECIMAL(26,2),
	aporte_patronal_caja_ahorro DECIMAL(26,2),

	--Para calcular con el Sueldo ingresado manualmente
	x_prima_profesion DECIMAL(26,2),
	x_prima_antiguedad DECIMAL(26,2),
	x_deduccion_sso DECIMAL(26,2),
	x_deduccion_rpe DECIMAL(26,2),
	x_deduccion_fpj DECIMAL(26,2),
	x_depositario_judicial DECIMAL(26,2),
	x_depositario_judicial_monto DECIMAL(26,2),
	x_deduccion_caja_ahorro DECIMAL(26,2),
	x_aporte_patronal_asso DECIMAL(26,2),
	x_aporte_patronal_arpe DECIMAL(26,2),
	x_porte_patronal_afpj DECIMAL(26,2),
	x_aporte_patronal_caja_ahorro DECIMAL(26,2),
 	-------------------------------------
 	procesado BOOLEAN DEFAULT false
);



create table log_user(
	id serial PRIMARY KEY,
	id_usuario integer NOT NULl REFERENCES usuarios(id), 
	fecha_inicio date,
 	hora_inicio time,
 	fecha_cierre date, 
 	hora_cierre time ,
 	ip_sesion inet,
 	status BOOLEAN DEFAULT 'false',
 	ultima_fecha date,
 	ultima_hora time
);

-------------------------------------------------------------------------------------------------
--HISTORICO PAGO RETROACTIVO NOMINA --
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_retroactivo_n AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.porcentaje_aumneto,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_historico_retroactivo_nomina a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_hist_retroactivo_nx AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.porcentaje_aumneto,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_historico_retroactivo_nominax a ORDER BY a.id ASC;



	-------------------------------------------------------------------------------------------------
--HISTORICO PAGO RETROACTIVO BONO DE ESTABILIDAD ECONOMICA  --
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_retroactivo_nbe AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.porcentaje_aumneto,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_historico_retroactivo_nominabe a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_hist_retroactivo_nbex AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.porcentaje_aumneto,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_historico_retroactivo_nominabex a ORDER BY a.id ASC;



	-------------------------------------------------------------------------------------------------
--HISTORICO PAGO RETROACTIVO BONO DE ASISTENCIA MEDICA  --
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_retroactivo_nam AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.porcentaje_aumneto,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_historico_retroactivo_nominaam a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_hist_retroactivo_namx AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.porcentaje_aumneto,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_historico_retroactivo_nominaamx a ORDER BY a.id ASC;



CREATE TABLE tipo_propiedad (
	id INTEGER NOT NULL PRIMARY KEY,
	denominacion TEXT
);

CREATE OR REPLACE VIEW view_registros_hacienda AS 
	SELECT 
		a.id,
		a.banco,
		a.numero_cuenta,
	 	(SELECT nombre_banco FROM tesoreria_cuentas WHERE a.banco = id_banco limit 1) as nombre_banco,
		a.recibo,
		a.referencia,
		a.monto_debe,
		a.monto_haber,
		a.saldo,
		a.tipo,
		a.descripcion,
		a.fecha_documento,
		a.fecha_pago,
		a.revision
	  FROM registros_hacienda a ORDER BY a.fecha_pago, a.id ASC;




/*==============================================================================================*/
/* VISTAS DE BD */
/*==============================================================================================*/
CREATE OR REPLACE VIEW view_mrrhh_personal AS 
	SELECT 
	 	a.cedula,
	 	a.status,
	 	a.apellidos,
	 	a.nombres,
	 	a.genero,
	 	--a.photo,
	 	--a.photo_dir,
	 	a.fecha_ingreso_institucion,
	 	a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.direccion,
	 	a.telefono,
	 	a.correo,
	 	a.rif,
	 	(SELECT denominacion FROM grados WHERE a.grado = id limit 1) as grado,
	 	(SELECT denominacion FROM ente_adscrito WHERE a.ente_adscrito = id limit 1) as ente_adscrito,
	 	a.hijos,
	 	a.estado_civil,
	 	a.beca_escolar_inicial,
	 	a.beca_escolar_primaria,
	 	a.beca_escolar_secundaria,
	 	a.beca_escolar_universitaria,
	 	a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
	 	a.prima_hogar,
		a.caja_ahorro,
	 	a.porcentaje_caja,
	 	a.funeraria,
	 	a.asociacion_funeraria,
	 	a.sindicato
	FROM mrrhh_personal a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
--EMPLEADOS FIJOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_empleados_fijos AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date)))) limit 1) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_fijos WHERE a.cargo = id limit 1) as cargo,
	 	a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_empleados WHERE id = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_empleados WHERE grupo = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1)) as sueldo_base,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'EMPLEADOS' limit 1)) as grado_nivel,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_empleados_fijos a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW view_mrrhh_empleados_fijos_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro
	FROM view_mrrhh_empleados_fijos a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
--EMPLEADOS CONTRATADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_empleados_contratados AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
	 	(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_contratados WHERE a.cargo = id limit 1) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_empleados WHERE id = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_empleados WHERE grupo = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'EMPLEADOS' limit 1)) as grado_nivel,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_empleados_contratados WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_empleados_contratados a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW view_mrrhh_empleados_contratados_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro
	FROM view_mrrhh_empleados_contratados a ORDER BY a.cedula ASC;


-------------------------------------------------------------------------------------------------
--DIRECTIVOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_directivos AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1)) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT siglas FROM mrrhh_grupos_directivos WHERE id = (SELECT grupo FROM mrrhh_niveles_directivos WHERE id = a.nivel limit 1)) as grupo,
		(SELECT grupo FROM mrrhh_niveles_directivos WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT denominacion FROM mrrhh_cargos_directivos WHERE a.cargo = id limit 1) as cargo,
		a.cargo as id_cargo,
		(SELECT sueldo_base FROM mrrhh_niveles_directivos WHERE grupo = (SELECT grupo FROM mrrhh_niveles_directivos WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'EMPLEADOS' limit 1)) as grado_nivel,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_directivos WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_directivos a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW view_mrrhh_directivos_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
		a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_porte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM view_mrrhh_directivos a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
--OBREROS FIJOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_obreros_fijos AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT siglas FROM mrrhh_grupos_obreros WHERE id = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE a.cargo = id limit 1) as cargo,
		a.cargo as id_cargo,
		(SELECT sueldo_base FROM mrrhh_niveles_obreros WHERE grupo = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'OBREROS' limit 1)) as grado_nivel,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_obreros_fijos WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero
	FROM mrrhh_obreros_fijos a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW view_mrrhh_obreros_fijos_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
		a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro
	FROM view_mrrhh_obreros_fijos a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
--OBREROS CONTRATADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_obreros_contratados AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_obreros_contratados WHERE a.cargo = id limit 1) as cargo,
		a.cargo as id_cargo,
		(SELECT sueldo_base FROM mrrhh_niveles_obreros WHERE grupo = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'OBREROS' limit 1)) as grado_nivel,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_obreros_contratados WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT siglas FROM mrrhh_grupos_obreros WHERE id = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_obreros_contratados a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_obreros_contratados_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro
	FROM View_mrrhh_obreros_contratados a ORDER BY a.cedula ASC;


-------------------------------------------------------------------------------------------------
--OBREROS NO PERMANENTES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_obreros_no_permanentes AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_obreros_no_permanentes WHERE a.cargo = id limit 1) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_obreros_no_permanentes WHERE id = (SELECT grupo FROM mrrhh_niveles_obreros_no_permanentes WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_obreros_no_permanentes WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_obreros_no_permanentes WHERE grupo = (SELECT grupo FROM mrrhh_niveles_obreros_no_permanentes WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'OBREROS' limit 1)) as grado_nivel,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_obreros_no_permanentes WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_obreros_no_permanentes a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_obreros_no_permanentes_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
	 	a.grupo,
	 	a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro
	FROM View_mrrhh_obreros_no_permanentes a ORDER BY a.cedula ASC;


-------------------------------------------------------------------------------------------------
--JUBILADOS EMPLEADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_jubilados_empleados AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_jubilados WHERE a.cargo = id limit 1) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_empleados WHERE id = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_empleados WHERE grupo = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'EMPLEADOS' limit 1)) as grado_nivel,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_jubilados_empleados WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_jubilados_empleados a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_jubilados_empleados_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_porte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM View_mrrhh_jubilados_empleados a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
--JUBILADOS OBREROS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_jubilados_obreros AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_jubilados WHERE a.cargo = id limit 1) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_obreros WHERE id = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel)) as grupo,
		(SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_obreros WHERE grupo = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel)) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'OBREROS' limit 1)) as grado_nivel,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_jubilados_obreros WHERE cedula = a.cedula limit 1)) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_jubilados_obreros a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_jubilados_obreros_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_porte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM View_mrrhh_jubilados_obreros a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
--PENSIONADOS EMPLEADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_pensionados_empleados AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE a.cargo = id) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_empleados WHERE id = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_empleados WHERE grupo = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'EMPLEADOS' limit 1)) as grado_nivel,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_pensionados_empleados WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_pensionados_empleados a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_pensionados_empleados_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_aporte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM View_mrrhh_pensionados_empleados a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
-- EMPLEADOS PENSIONADOS SOBREVIVIENTES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_pen_sobre_empleados AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_empleados_fijos WHERE a.cargo = id) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_empleados WHERE id = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_empleados WHERE grupo = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'EMPLEADOS' limit 1)) as grado_nivel,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_pensionados_sobrevivientes_e WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_pensionados_sobrevivientes_e a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_pen_sobre_empleados_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_aporte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM View_mrrhh_pen_sobre_empleados a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
-- EMPLEADOS PENSIONADOS ESPECIALES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_pen_esp_empleados AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE a.cargo = id) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_empleados WHERE id = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_empleados WHERE grupo = (SELECT grupo FROM mrrhh_niveles_empleados WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'EMPLEADOS' limit 1)) as grado_nivel,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_pensionados_especiales_empleados WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_pensionados_especiales_empleados a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_pen_esp_empleados_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_aporte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM View_mrrhh_pen_esp_empleados a ORDER BY a.cedula ASC;

	-------------------------------------------------------------------------------------------------
--OBREROS PENSIONADOS SOBREVIVIENTES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_pen_sobre_obreros AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE a.cargo = id) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_obreros WHERE id = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel)) as grupo,
		(SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_obreros WHERE grupo = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel)) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'OBREROS' limit 1)) as grado_nivel,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_pensionados_sobrevivientes_o a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_pen_sobre_obreros_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_aporte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM View_mrrhh_pen_sobre_obreros a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
-- OBREROS PENSIONADOS ESPECIALES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_pen_esp_obreros AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE a.cargo = id) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_obreros WHERE id = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel)) as grupo,
		(SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_niveles_obreros WHERE grupo = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel)) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'OBREROS' limit 1)) as grado_nivel,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_pensionados_especiales_obreros WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_pensionados_especiales_obreros a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_pen_esp_obreros_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_aporte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM View_mrrhh_pen_esp_obreros a ORDER BY a.cedula ASC;


-------------------------------------------------------------------------------------------------
-- OBREROS PENSIONADOS ESPECIALES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_proteccion_civil AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_proteccion_civil WHERE a.cargo = id) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_proteccion_civil WHERE id = (SELECT grupo FROM mrrhh_niveles_proteccion_civil WHERE id = a.nivel)) as grupo,
		(SELECT grupo FROM mrrhh_niveles_proteccion_civil WHERE id = a.nivel) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_sueldo_base ORDER BY id DESC LIMIT 1) as sueldo_base,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(SELECT denominacion FROM mrrhh_niveles_proteccion_civil WHERE id = (SELECT grado_nivel FROM mrrhh_proteccion_civil WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT sueldo_base FROM mrrhh_niveles_proteccion_civil WHERE id = a.grado_nivel) as grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_proteccion_civil a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_proteccion_civil_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.grado_nivel * a.sueldo_base) as sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.11) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.02) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro
	FROM View_mrrhh_proteccion_civil a ORDER BY a.cedula ASC;

-------------------------------------------------------------------------------------------------
-- CEMENTERIO --
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_cementerio AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT siglas FROM mrrhh_grupos_obreros WHERE id = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel limit 1) limit 1) as grupo,
		(SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE a.cargo = id limit 1) as cargo,
		a.cargo as id_cargo,
		(SELECT sueldo_base FROM mrrhh_niveles_obreros WHERE grupo = (SELECT grupo FROM mrrhh_niveles_obreros WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'OBREROS' limit 1)) as grado_nivel,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_cementerio WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_cementerio a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_cementerio_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base) as sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro
	FROM View_mrrhh_cementerio a ORDER BY a.cedula ASC;

	-------------------------------------------------------------------------------------------------
-- COMISION DE SERVICIO --
-------------------------------------------------------------------------------------------------
	CREATE OR REPLACE VIEW View_mrrhh_comision_servicio AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1)) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT siglas FROM mrrhh_grupos_directivos WHERE id = (SELECT grupo FROM mrrhh_niveles_directivos WHERE id = a.nivel limit 1)) as grupo,
		(SELECT grupo FROM mrrhh_niveles_directivos WHERE id = a.nivel limit 1) as id_grupo,
		(SELECT denominacion FROM mrrhh_cargos_directivos WHERE a.cargo = id limit 1) as cargo,
		a.cargo as id_cargo,
		(SELECT sueldo_base FROM mrrhh_niveles_directivos WHERE grupo = (SELECT grupo FROM mrrhh_niveles_directivos WHERE id = a.nivel limit 1) limit 1) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((a.grado_nivel) -1) * (SELECT monto from aumento_rotativo_nivel where denominacion = 'EMPLEADOS' limit 1)) as grado_nivel,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_directivos WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_comision_servicio a ORDER BY a.cedula ASC;


CREATE OR REPLACE VIEW View_mrrhh_comision_servicio_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
		a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_porte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM View_mrrhh_comision_servicio a ORDER BY a.cedula ASC;

	-------------------------------------------------------------------------------------------------
-- HONORARIO PROFESIONALES --
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW View_mrrhh_honorario_p AS 
	SELECT 
	 	a.cedula,
	 	a.tipo_personal,
		(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
		(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
		(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
		(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
		(SELECT genero FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as genero,
		(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
		(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as anos_institucion,
		(SELECT ano_servicio FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as ano_servicio,
		a.banco,
		a.numero_cuenta,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		(SELECT porcentaje FROM grados WHERE id = (SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) limit 1) as grado_porcentaje,
		(SELECT grado FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as grado_instruccion,
		(SELECT denominacion FROM mrrhh_cargos_directivos WHERE a.cargo = id) as cargo,
		a.cargo as id_cargo,
		(SELECT siglas FROM mrrhh_grupos_directivos WHERE id = (SELECT grupo FROM mrrhh_niveles_directivos WHERE id = a.nivel)) as grupo,
		(SELECT grupo FROM mrrhh_niveles_directivos WHERE id = a.nivel) as id_grupo,
		(SELECT sueldo_base FROM mrrhh_sueldo_base ORDER BY id DESC LIMIT 1) as sueldo_base,
		a.sueldo,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(SELECT denominacion FROM grado_nivel WHERE id = (SELECT grado_nivel FROM mrrhh_honorario_profesionales WHERE cedula = a.cedula limit 1) limit 1) as denominacion_grado_nivel,
		(SELECT sueldo_base FROM mrrhh_niveles_directivos WHERE id = a.grado_nivel) as grado_nivel,
		(SELECT beca_escolar_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_inicial,
		(SELECT beca_escolar_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_primaria,
		(SELECT beca_escolar_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_secundaria,
		(SELECT beca_escolar_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_universitaria,
		(SELECT beca_escolar_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as beca_escolar_discapacidad,
		(SELECT cantidad_beca_inicial FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_inicial,
		(SELECT cantidad_beca_primaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_primaria,
		(SELECT cantidad_beca_secundaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_secundaria,
		(SELECT cantidad_beca_universitaria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_universitaria,
		(SELECT cantidad_beca_discapacidad FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as cantidad_beca_discapacidad,
		(SELECT prima_hogar FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as prima_hogar,
		(SELECT caja_ahorro FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as caja_ahorro,
		(SELECT porcentaje_caja FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as porcentaje_caja,
		(SELECT funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as funeraria,
		(SELECT asociacion_funeraria FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as asociacion_funeraria,
		(SELECT sindicato FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as sindicato,
		(SELECT hijos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as hijos,
		(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as ente_adscrito,
		(SELECT ente_adscrito FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as id_ente_adscrito,
		(SELECT date_part('year',age(current_date, (SELECT DATE_TRUNC('month', (SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1)::date))))) as antiguedad
	FROM mrrhh_honorario_profesionales a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW View_mrrhh_honorario_p_aux AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	(a.ano_servicio + a.anos_institucion) as anos_servicio,
		a.grado_porcentaje,
		a.grado_instruccion as id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		(a.sueldo_base + a.grado_nivel) as sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		(((select monto from mrrhh_primas where id = 1 limit 1) * a.hijos) / 2) as prima_hijos,
		((select monto from mrrhh_primas where id = 2) / 2)  as monto_hogar,
		((select monto from mrrhh_primas where id = 3) / 2) as monto_becas,
		((select monto from mrrhh_primas where id = 4) / 2) as monto_funeraria,
		((select monto from mrrhh_primas where id = 5) / 2) as monto_sindicato,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		(((a.sueldo_base + a.grado_nivel) / 2) * a.grado_porcentaje) as prima_profesion,
		(((a.sueldo_base + a.grado_nivel) / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as prima_antiguedad,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.04) as deduccion_sso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.005) as deduccion_rpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as deduccion_fpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as deduccion_caja_ahorro,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.09) as aporte_patronal_asso,
		(((a.sueldo_base + a.grado_nivel) / 2) * 12/52*4*0.017) as aporte_patronal_arpe,
		(((a.sueldo_base + a.grado_nivel) / 2) * 0.03) as aporte_patronal_afpj,
		(((a.sueldo_base + a.grado_nivel) / 2) * a.porcentaje_caja) as aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		((a.sueldo / 2) * a.grado_porcentaje) as x_prima_profesion,
		((a.sueldo / 2) * (SELECT porcentaje FROM prima_antiguedad WHERE (a.ano_servicio + a.anos_institucion) = cantidad limit 1)) as x_prima_antiguedad,
		((a.sueldo / 2) * 12/52*4*0.04) as x_deduccion_sso,
		((a.sueldo / 2) * 12/52*4*0.005) as x_deduccion_rpe,
		((a.sueldo / 2) * 0.03) as x_deduccion_fpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_deduccion_caja_ahorro,
		((a.sueldo / 2) * 12/52*4*0.09) as x_aporte_patronal_asso,
		((a.sueldo / 2) * 12/52*4*0.017) as x_aporte_patronal_arpe,
		((a.sueldo / 2) * 0.03) as x_aporte_patronal_afpj,
		((a.sueldo / 2) * a.porcentaje_caja) as x_aporte_patronal_caja_ahorro
	FROM View_mrrhh_honorario_p a ORDER BY a.cedula ASC;

CREATE OR REPLACE VIEW view_mrrhh_fusion_personal AS 
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM view_mrrhh_empleados_fijos_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM view_mrrhh_empleados_contratados_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM view_mrrhh_directivos_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM view_mrrhh_obreros_fijos_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_obreros_contratados_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_obreros_no_permanentes_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_jubilados_empleados_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_jubilados_obreros_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_pensionados_empleados_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_pen_sobre_empleados_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_pen_esp_empleados_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_pen_sobre_obreros_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_pen_esp_obreros_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_proteccion_civil_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_cementerio_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_comision_servicio_aux a
UNION
	SELECT 
	 	a.cedula,
		a.apellidos,
		a.nombres,
		a.status,
		a.correo,
		a.tipo_personal,
		a.banco,
		a.numero_cuenta,
		a.fecha_ingreso_institucion,
		a.fecha_egreso_institucion,
	 	a.ano_servicio,
	 	a.anos_institucion,
	 	a.anos_servicio,
		a.grado_porcentaje,
		a.id_grado_instruccion,
		a.grupo,
		a.id_grupo,
		a.cargo,
		a.id_cargo,
		a.sueldo_base,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
	 	a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.ente_adscrito,
	 	a.id_ente_adscrito,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro
	FROM View_mrrhh_honorario_p_aux a;
	
-------------------------------------------------------------------------------------------------
--CESTA TICKET EMPLEADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_cesta_ticket_empleados AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as dependencia,
	 	a.dias_trabajados,
	 	a.dias_faltados,
	 	a.dias_a_cancelar,
	 	a.monto,
	 	a.procesado,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE a.cedula = cedula limit 1) as numero_cuenta
	FROM mrrhh_cesta_ticket_empleados a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--CESTA TICKET OBREROS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_cesta_ticket_obreros AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as dependencia,
	 	a.dias_trabajados,
	 	a.dias_faltados,
	 	a.dias_a_cancelar,
	 	a.monto,
	 	a.procesado,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE a.cedula = cedula limit 1) as numero_cuenta
	FROM mrrhh_cesta_ticket_obreros a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--CESTA TICKET PROTECCION CIVIL--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_cesta_ticket_proteccion_civil AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as dependencia,
	 	a.dias_trabajados,
	 	a.dias_faltados,
	 	a.dias_a_cancelar,
	 	a.monto,
	 	a.procesado,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE a.cedula = cedula limit 1) as numero_cuenta
	FROM mrrhh_cesta_ticket_proteccion_civil a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--CESTA TICKET CEMENTERIO--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_cesta_ticket_cementerio AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT ente_adscrito FROM view_mrrhh_personal WHERE a.cedula = cedula limit 1) as dependencia,
	 	a.dias_trabajados,
	 	a.dias_faltados,
	 	a.dias_a_cancelar,
	 	a.monto,
	 	a.procesado,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE a.cedula = cedula limit 1) as numero_cuenta
	FROM mrrhh_cesta_ticket_cementerio a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HORAS EXTRAS EMPLEADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_horas_extras_empleados AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_fijos WHERE id = (SELECT cargo FROM mrrhh_empleados_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo_fijo,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_contratados WHERE id = (SELECT cargo FROM mrrhh_empleados_contratados WHERE a.cedula = cedula limit 1) limit 1) as cargo_contratado,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_directivos WHERE a.cedula = cedula limit 1) limit 1) as cargo_directivo,
	 	a.cantidad_dias,
	 	a.dias_no_laborables,
	 	a.cantidad_horas,
	 	a.cantidad_horas_extra_diurnas,
	 	a.cantidad_horas_extra_nocturnas,
	 	a.monto,
	 	a.procesado,
	 	a.omitida,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE a.cedula = cedula limit 1) as numero_cuenta
	FROM mrrhh_horas_extras_empleados a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HORAS EXTRAS OBREROS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_horas_extras_obreros AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula  limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo_fijo,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_contratados WHERE id = (SELECT cargo FROM mrrhh_obreros_contratados WHERE a.cedula = cedula limit 1) limit 1) as cargo_contratado,
	 	a.cantidad_dias,
	 	a.dias_no_laborables,
	 	a.cantidad_horas,
	 	a.cantidad_horas_extra_diurnas,
	 	a.cantidad_horas_extra_nocturnas,
	 	a.monto,
	 	a.procesado,
	 	a.omitida,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE a.cedula = cedula limit 1) as numero_cuenta
	FROM mrrhh_horas_extras_obreros a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--VACACIONES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_vacaciones AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	a.ente_adscrito,
	 	-------------------------------------
	 	a.ano_servicio ,
		a.anos_institucion ,
		a.anos_servicio ,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial ,
		a.beca_escolar_primaria ,
		a.beca_escolar_secundaria ,
		a.beca_escolar_universitaria ,
		a.beca_escolar_discapacidad ,
		a.cantidad_beca_inicial , 
		a.cantidad_beca_primaria ,
		a.cantidad_beca_secundaria ,
		a.cantidad_beca_universitaria ,
		a.cantidad_beca_discapacidad ,
		a.prima_hogar ,
		a.caja_ahorro ,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar ,
		a.funeraria ,
		a.asociacion_funeraria ,
		a.sindicato ,
		a.hijos ,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		------------------------------------- 
	 	a.fecha_salida,
	 	a.fecha_entrada,
	 	a.monto,
	 	a.alicuota_v,
	 	a.monto_av,
	 	a.alicuota_f,
	 	a.monto_af,
	 	a.alicuota,
	 	a.monto_a,
	 	a.disfrute,
	 	a.monto_disfrute,
	 	a.bono_v,
	 	a.horas_extras,

	 	a.dias,
	 	a.dias_bono,

	 	a.procesado,
	 	a.quinquenio,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta
	FROM mrrhh_vacaciones a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_vacacionesx AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	a.ente_adscrito,
	 	-------------------------------------
	 	a.ano_servicio ,
		a.anos_institucion ,
		a.anos_servicio ,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial ,
		a.beca_escolar_primaria ,
		a.beca_escolar_secundaria ,
		a.beca_escolar_universitaria ,
		a.beca_escolar_discapacidad ,
		a.cantidad_beca_inicial , 
		a.cantidad_beca_primaria ,
		a.cantidad_beca_secundaria ,
		a.cantidad_beca_universitaria ,
		a.cantidad_beca_discapacidad ,
		a.prima_hogar ,
		a.caja_ahorro ,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar ,
		a.funeraria ,
		a.asociacion_funeraria ,
		a.sindicato ,
		a.hijos ,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		------------------------------------- 
	 	a.fecha_salida,
	 	a.fecha_entrada,
	 	a.monto,
	 	a.alicuota_v,
	 	a.monto_av,
	 	a.alicuota_f,
	 	a.monto_af,
	 	a.alicuota,
	 	a.monto_a,
	 	a.disfrute,
	 	a.monto_disfrute,
	 	a.bono_v,
	 	a.horas_extras,

	 	a.dias,
	 	a.dias_bono,

	 	a.procesado,
	 	a.quinquenio,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta
	FROM mrrhh_vacacionesx a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_vacaciones_obreros AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
		a.dias,
		a.bono_vacacional,
		a.disfrute,
	 	-------------------------------------
		a.fecha_desde,
		a.fecha_hasta,
		a.fecha_reintegro,
		a.cantidad_dias,


		a.alicuota_v,
		a.alicuota_f,
		a.alicuota,
		a.disfrute_v,
		a.bono_v,
		a.dias_d,
	 	a.dias_bono,
		a.horas_extras,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_vacaciones_obreros a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_mrrhh_vacaciones_obrerosx AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
		a.dias,
		a.bono_vacacional,
		a.disfrute,
		-------------------------------------
		a.fecha_desde,
		a.fecha_hasta,
		a.fecha_reintegro,
		a.cantidad_dias,


		a.alicuota_v,
		a.alicuota_f,
		a.alicuota,
		a.disfrute_v,
		a.bono_v,
		a.dias_d,
	 	a.dias_bono,
		a.horas_extras,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_vacaciones_obrerosx a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--FIN DE AÑO--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_fin AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.desde,
	 	a.hasta,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	a.ente_adscrito,
	 	-------------------------------------
	 	a.ano_servicio ,
		a.anos_institucion ,
		a.anos_servicio ,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial ,
		a.beca_escolar_primaria ,
		a.beca_escolar_secundaria ,
		a.beca_escolar_universitaria ,
		a.beca_escolar_discapacidad ,
		a.cantidad_beca_inicial , 
		a.cantidad_beca_primaria ,
		a.cantidad_beca_secundaria ,
		a.cantidad_beca_universitaria ,
		a.cantidad_beca_discapacidad ,
		a.prima_hogar ,
		a.caja_ahorro ,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar ,
		a.funeraria ,
		a.asociacion_funeraria ,
		a.sindicato ,
		a.hijos ,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		------------------------------------- 
	 	a.fecha_salida,
	 	a.fecha_entrada,
	 	a.monto,
	 	a.alicuota_v,
	 	a.monto_av,
	 	a.alicuota_f,
	 	a.monto_af,
	 	a.alicuota,
	 	a.monto_a,
	 	a.disfrute,
	 	a.monto_disfrute,
	 	a.bono_v,
	 	a.horas_extras,

	 	a.dias,
	 	a.dias_bono,

	 	a.procesado,
	 	a.quinquenio,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta
	FROM mrrhh_fin a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_finx AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.desde,
	 	a.hasta,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	a.ente_adscrito,
	 	-------------------------------------
	 	a.ano_servicio ,
		a.anos_institucion ,
		a.anos_servicio ,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial ,
		a.beca_escolar_primaria ,
		a.beca_escolar_secundaria ,
		a.beca_escolar_universitaria ,
		a.beca_escolar_discapacidad ,
		a.cantidad_beca_inicial , 
		a.cantidad_beca_primaria ,
		a.cantidad_beca_secundaria ,
		a.cantidad_beca_universitaria ,
		a.cantidad_beca_discapacidad ,
		a.prima_hogar ,
		a.caja_ahorro ,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar ,
		a.funeraria ,
		a.asociacion_funeraria ,
		a.sindicato ,
		a.hijos ,
		a.prima_hijos,
		a.antiguedad,

		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,

		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		------------------------------------- 
	 	a.fecha_salida,
	 	a.fecha_entrada,
	 	a.monto,
	 	a.alicuota_v,
	 	a.monto_av,
	 	a.alicuota_f,
	 	a.monto_af,
	 	a.alicuota,
	 	a.monto_a,
	 	a.disfrute,
	 	a.monto_disfrute,
	 	a.bono_v,
	 	a.horas_extras,

	 	a.dias,
	 	a.dias_bono,

	 	a.procesado,
	 	a.quinquenio,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta
	FROM mrrhh_finx a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_fin_obreros AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.desde,
	 	a.hasta,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
		a.dias,
		a.bono_vacacional,
		a.disfrute,
	 	-------------------------------------
		a.fecha_desde,
		a.fecha_hasta,
		a.fecha_reintegro,
		a.cantidad_dias,


		a.alicuota_v,
		a.alicuota_f,
		a.alicuota,
		a.disfrute_v,
		a.bono_v,
		a.dias_d,
	 	a.dias_bono,
		a.horas_extras,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_fin_obreros a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_mrrhh_fin_obrerosx AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.desde,
	 	a.hasta,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
		a.dias,
		a.bono_vacacional,
		a.disfrute,
		-------------------------------------
		a.fecha_desde,
		a.fecha_hasta,
		a.fecha_reintegro,
		a.cantidad_dias,


		a.alicuota_v,
		a.alicuota_f,
		a.alicuota,
		a.disfrute_v,
		a.bono_v,
		a.dias_d,
	 	a.dias_bono,
		a.horas_extras,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_fin_obrerosx a ORDER BY a.id ASC;
-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS FIJOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_empleados_fijos AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	--a.desde,
	 	--a.hasta,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_fijos WHERE id = (SELECT cargo FROM mrrhh_empleados_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.monto_becas,

		a.prima_hogar,
		a.monto_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.monto_funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.monto_sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_empleados_fijos a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS FIJOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_empleados_c AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_contratados WHERE id = (SELECT cargo FROM mrrhh_empleados_contratados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_empleados_contratados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_empleados_contratados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_empleados_contratados a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO DIRECTIVOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_directivos AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_directivos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_directivos WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_directivos a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS FIJOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_obreros_fijos AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_obreros_fijos WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_obreros_fijos WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_obreros_fijos a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS CONTRATADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_obreros_c AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_contratados WHERE id = (SELECT cargo FROM mrrhh_obreros_contratados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_obreros_contratados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_obreros_contratados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_obreros_contratados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS NO PERMANENTES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_obreros_no_p AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_no_permanentes WHERE id = (SELECT cargo FROM mrrhh_obreros_no_permanentes WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_obreros_no_permanentes WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_obreros_no_permanentes WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_obreros_no_permanentes a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS JUBILADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_e_jubilados AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_jubilados WHERE id = (SELECT cargo FROM mrrhh_jubilados_empleados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_jubilados_empleados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_jubilados_empleados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_empleados_jubilados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS JUBILADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_o_jubilados AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_jubilados WHERE id = (SELECT cargo FROM mrrhh_jubilados_obreros WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_jubilados_obreros WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_jubilados_obreros WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_obreros_jubilados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_empleados_p AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_empleados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_empleados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_empleados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_empleados_pensionados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_e_p_sobre AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_e WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_e WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_e WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_empleados_pensionados_sobrevivientes a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_e_p_esp AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_especiales_empleados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_especiales_empleados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_especiales_empleados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_empleados_pensionados_especiales a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_o_p_sobre AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_obreros_pensionados_sobrevivientes a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_o_p_esp AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_especiales_obreros WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_especiales_obreros WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_especiales_obreros WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_obreros_pensionados_especiales a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO PROTECCION CIVIL--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_pc AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_proteccion_civil WHERE id = (SELECT cargo FROM mrrhh_proteccion_civil WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_proteccion_civil WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_proteccion_civil WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.bono_estabilidad,
 		a.vacaciones,
	 	a.omitida,
 		a.evaluacion
	FROM mrrhh_historico_proteccion_civil a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO CEMENTERIO--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_cementerio AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_cementerio WHERE id = (SELECT cargo FROM mrrhh_cementerio WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_cementerio WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_cementerio WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_cementerio a ORDER BY a.id ASC;

	-------------------------------------------------------------------------------------------------
-- COMISION DE SERVICIO--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_com_s AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_comision_servicio WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_comision_servicio WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_comision_servicio WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_comision_servicio a ORDER BY a.id ASC;

	-------------------------------------------------------------------------------------------------
--HISTORICO HONORARIOS PROFESIONALES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_honorario_p AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_honorario_profesionales WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_honorario_profesionales WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_honorario_profesionales WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
	 	a.dias_dejados_c,
	 	a.ajuste_sueldo, 
	 	a.ajuste_p_profesion, 
	 	a.ajuste_p_antiguedad, 
	 	a.ajuste_p_hijos, 
	 	a.ajuste_p_hogar,

	 	a.ajuste_sso,
	 	a.ajuste_rpe,
	 	a.ajuste_faov,
	 	a.ajuste_fpj,
	 	a.ajuste_caja,

	 	a.ajuste_a_sso,
	 	a.ajuste_a_rpe,
	 	a.ajuste_a_faov,
	 	a.ajuste_a_fpj,
	 	a.ajuste_a_caja,
	 	-------------------------------------
	 	-------------------------------------
	 	a.procesado,
	 	a.omitida
	FROM mrrhh_historico_honorario_profesionales a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO AM--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_empleados_fijos AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_fijos WHERE id = (SELECT cargo FROM mrrhh_empleados_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,

		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_empleados_fijos a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS FIJOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_empleados_c AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_contratados WHERE id = (SELECT cargo FROM mrrhh_empleados_contratados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_empleados_contratados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_empleados_contratados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_empleados_contratados a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO DIRECTIVOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_directivos AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_directivos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_directivos a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS FIJOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_obreros_fijos AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_obreros_fijos WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_obreros_fijos WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_obreros_fijos a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS CONTRATADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_obreros_c AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_contratados WHERE id = (SELECT cargo FROM mrrhh_obreros_contratados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_obreros_contratados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_obreros_contratados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_obreros_contratados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS NO PERMANENTES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_obreros_no_p AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_no_permanentes WHERE id = (SELECT cargo FROM mrrhh_obreros_no_permanentes WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_obreros_no_permanentes WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_obreros_no_permanentes WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_obreros_no_permanentes a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS JUBILADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_e_jubilados AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_jubilados WHERE id = (SELECT cargo FROM mrrhh_jubilados_empleados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_jubilados_empleados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_jubilados_empleados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_empleados_jubilados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS JUBILADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_o_jubilados AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_jubilados WHERE id = (SELECT cargo FROM mrrhh_jubilados_obreros WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_jubilados_obreros WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_jubilados_obreros WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_obreros_jubilados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_empleados_p AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_empleados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_empleados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_empleados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_empleados_pensionados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_e_p_sobre AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_e WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_e WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_e WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_empleados_pensionados_sobrevivientes a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_e_p_esp AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_especiales_empleados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_especiales_empleados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_especiales_empleados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_empleados_pensionados_especiales a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_o_p_sobre AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_obreros_pensionados_sobrevivientes a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_o_p_esp AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_especiales_obreros WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_especiales_obreros WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_especiales_obreros WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_obreros_pensionados_especiales a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO PROTECCION CIVIL--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_pc AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_proteccion_civil WHERE id = (SELECT cargo FROM mrrhh_proteccion_civil WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_proteccion_civil WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_proteccion_civil WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_proteccion_civil a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO CEMENTERIO--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_cementerio AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_cementerio WHERE id = (SELECT cargo FROM mrrhh_cementerio WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_cementerio WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_cementerio WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_cementerio a ORDER BY a.id ASC;

	-------------------------------------------------------------------------------------------------
-- COMISION DE SERVICIO--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_com_s AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_comision_servicio WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_comision_servicio WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_comision_servicio WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_comision_servicio a ORDER BY a.id ASC;

	-------------------------------------------------------------------------------------------------
--HISTORICO HONORARIOS PROFESIONALES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_am_honorario_p AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_honorario_profesionales WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_honorario_profesionales WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_honorario_profesionales WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_am_honorario_profesionales a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO BE--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_empleados_fijos AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_fijos WHERE id = (SELECT cargo FROM mrrhh_empleados_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,

		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------

	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_empleados_fijos a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS FIJOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_empleados_c AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_empleados_contratados WHERE id = (SELECT cargo FROM mrrhh_empleados_contratados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_empleados_contratados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_empleados_contratados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_empleados_contratados a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO DIRECTIVOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_directivos AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_directivos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_empleados_fijos WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_directivos a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS FIJOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_obreros_fijos AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_obreros_fijos WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_obreros_fijos WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_obreros_fijos a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS CONTRATADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_obreros_c AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_contratados WHERE id = (SELECT cargo FROM mrrhh_obreros_contratados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_obreros_contratados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_obreros_contratados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_obreros_contratados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS NO PERMANENTES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_obreros_no_p AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_no_permanentes WHERE id = (SELECT cargo FROM mrrhh_obreros_no_permanentes WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_obreros_no_permanentes WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_obreros_no_permanentes WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_obreros_no_permanentes a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS JUBILADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_e_jubilados AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_jubilados WHERE id = (SELECT cargo FROM mrrhh_jubilados_empleados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_jubilados_empleados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_jubilados_empleados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_empleados_jubilados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS JUBILADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_o_jubilados AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_jubilados WHERE id = (SELECT cargo FROM mrrhh_jubilados_obreros WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_jubilados_obreros WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_jubilados_obreros WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_obreros_jubilados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_empleados_p AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_empleados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_empleados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_empleados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_empleados_pensionados a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_e_p_sobre AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_e WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_e WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_e WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_empleados_pensionados_sobrevivientes a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO EMPLEADOS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_e_p_esp AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_especiales_empleados WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_especiales_empleados WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_especiales_empleados WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_empleados_pensionados_especiales a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_o_p_sobre AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_sobrevivientes_o WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_obreros_pensionados_sobrevivientes a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO OBREROS PENSIONADOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_o_p_esp AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_especiales_obreros WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_pensionados_especiales_obreros WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_pensionados_especiales_obreros WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_obreros_pensionados_especiales a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO PROTECCION CIVIL--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_pc AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_proteccion_civil WHERE id = (SELECT cargo FROM mrrhh_proteccion_civil WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_proteccion_civil WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_proteccion_civil WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_proteccion_civil a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO CEMENTERIO--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_cementerio AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_cementerio WHERE id = (SELECT cargo FROM mrrhh_cementerio WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_cementerio WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_cementerio WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_cementerio a ORDER BY a.id ASC;

	-------------------------------------------------------------------------------------------------
-- COMISION DE SERVICIO--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_com_s AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_comision_servicio WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_comision_servicio WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_comision_servicio WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_comision_servicio a ORDER BY a.id ASC;

	-------------------------------------------------------------------------------------------------
--HISTORICO HONORARIOS PROFESIONALES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_hist_be_honorario_p AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_directivos WHERE id = (SELECT cargo FROM mrrhh_honorario_profesionales WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM mrrhh_honorario_profesionales WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM mrrhh_honorario_profesionales WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.bono_dejado_c,
	 	a.bono_dias_cancelar,
	 	a.procesado
	FROM mrrhh_hist_be_honorario_profesionales a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--HISTORICO PRESTACIONES SOCIALES--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_prestaciones_sociales AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	--a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.monto,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_prestaciones_sociales a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_prestaciones_socialesx AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.mes,
	 	--a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.monto,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_prestaciones_socialesx a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--HISTORICO PAGO ESPECIAL--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_mrrhh_historico_personalizada AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado, 
	 	a.omitida
	FROM mrrhh_historico_personalizada a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_historico_personalizadax AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado, 
	 	a.omitida
	FROM mrrhh_historico_personalizadax a ORDER BY a.id ASC;



CREATE OR REPLACE VIEW view_mrrhh_historico_retroactivo AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.sueldo_anterior,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_historico_retroactivo a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_historico_retroactivox AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_pensionados WHERE id = (SELECT cargo FROM mrrhh_pensionados_sobrevivientes_o WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.sueldo_anterior,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
	 	-------------------------------------
	 	a.procesado
	FROM mrrhh_historico_retroactivox a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_mrrhh_historico_retroactivo_v AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
		a.dias,
		a.bono_vacacional,
		a.disfrute,
		-------------------------------------
		a.fecha_desde,
		a.fecha_hasta,
		a.fecha_reintegro,
		a.cantidad_dias,


		a.alicuota_v,
		a.alicuota_f,
		a.alicuota,
		a.disfrute_v,
		a.bono_v,
		a.dias_d,
	 	a.dias_bono,
		a.horas_extras,
	 	-------------------------------------
	 	a.procesado,
	 	a.sueldo_anterior
	FROM mrrhh_historico_retroactivo_v a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_historico_retroactivo_vx AS 
	SELECT 
	 	a.id,
	 	a.requisicion,
	 	a.ano,
	 	a.mes,
	 	a.quincena,
	 	a.id_tipo_personal,
	 	a.cedula,
	 	a.ente_adscrito,
	 	(SELECT nombres FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as nombres,
	 	(SELECT apellidos FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as apellidos,
	 	(SELECT status FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as status,
	 	(SELECT correo FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as correo,
	 	(SELECT fecha_ingreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_ingreso_institucion,
	 	(SELECT fecha_egreso_institucion FROM mrrhh_personal WHERE a.cedula = cedula limit 1) as fecha_egreso_institucion,
	 	(SELECT denominacion FROM mrrhh_cargos_obreros_fijos WHERE id = (SELECT cargo FROM mrrhh_obreros_fijos WHERE a.cedula = cedula limit 1) limit 1) as cargo,
	 	(SELECT banco FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as banco,
	 	(SELECT numero_cuenta FROM view_mrrhh_fusion_personal WHERE cedula = a.cedula limit 1) as numero_cuenta,
	 	-------------------------------------
	 	a.ano_servicio,
		a.anos_institucion,
		a.anos_servicio,
		a.grado_porcentaje,
		a.grupo,
		a.sueldo_base,
		a.sueldo,
		a.grado_nivel,
		a.denominacion_grado_nivel,
		a.beca_escolar_inicial,
		a.beca_escolar_primaria,
		a.beca_escolar_secundaria,
		a.beca_escolar_universitaria,
		a.beca_escolar_discapacidad,
		a.cantidad_beca_inicial, 
		a.cantidad_beca_primaria,
		a.cantidad_beca_secundaria,
		a.cantidad_beca_universitaria,
		a.cantidad_beca_discapacidad,
		a.prima_hogar,
		a.caja_ahorro,
		a.prestamo_caja_ahorro,
		a.dias_dejados_cancelar,
		a.funeraria,
		a.asociacion_funeraria,
		a.sindicato,
		a.hijos,
		a.prima_hijos,
		a.antiguedad,
		--Para calcular con el Sueldo automatizado
		a.prima_profesion,
		a.prima_antiguedad,
		a.deduccion_sso,
		a.deduccion_rpe,
		a.deduccion_fpj,
		a.depositario_judicial,
		a.depositario_judicial_monto,
		a.deduccion_caja_ahorro,
		a.aporte_patronal_asso,
		a.aporte_patronal_arpe,
		a.aporte_patronal_afpj,
		a.aporte_patronal_caja_ahorro,
		--Para calcular con el Sueldo ingresado manualmente
		a.x_prima_profesion,
		a.x_prima_antiguedad,
		a.x_deduccion_sso,
		a.x_deduccion_rpe,
		a.x_deduccion_fpj,
		a.x_depositario_judicial,
		a.x_depositario_judicial_monto,
		a.x_deduccion_caja_ahorro,
		a.x_aporte_patronal_asso,
		a.x_aporte_patronal_arpe,
		a.x_porte_patronal_afpj,
		a.x_aporte_patronal_caja_ahorro,
		-------------------------------------
		a.dias,
		a.bono_vacacional,
		a.disfrute,
		-------------------------------------
		a.fecha_desde,
		a.fecha_hasta,
		a.fecha_reintegro,
		a.cantidad_dias,


		a.alicuota_v,
		a.alicuota_f,
		a.alicuota,
		a.disfrute_v,
		a.bono_v,
		a.dias_d,
	 	a.dias_bono,
		a.horas_extras,
	 	-------------------------------------
	 	a.procesado,
	 	a.sueldo_anterior
	FROM mrrhh_historico_retroactivo_vx a ORDER BY a.id ASC;

-------------------------------------------------------------------------------------------------
--VISTA PRESUPUESTO - INGRESOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_presupuesto_forma2102 AS 
 SELECT a.id,
    a.ano,
    a.tipo_ingreso,
    a.id_ramo,
    ( SELECT ramo FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1) AS ramo,
    ( SELECT descripcion FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1) AS ramo_denominacion,
    ( SELECT monto FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1) AS monto_ramo,
    a.id_sub_ramo,
    ( SELECT sub_ramo FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1) AS sub_ramo,
    ( SELECT descripcion FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1) AS sub_ramo_denominacion,
    ( SELECT monto FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1) AS monto_sub_ramo,
    a.id_especifico,
    ( SELECT especifico FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1) AS especifico,
    ( SELECT descripcion FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1) AS especifico_denominacion,
    ( SELECT monto FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1) AS monto_especifico,
    a.id_sub_especifico,
    ( SELECT sub_especifico FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1) AS sub_especifico,
    ( SELECT descripcion FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1) AS sub_especifico_denominacion,
    ( SELECT monto FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1) AS monto_b_especifico,
    a.ordinal,
    ( SELECT ordinal FROM presupuesto_ordinal WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1) AS ordinald,
    ( SELECT descripcion FROM presupuesto_ordinal WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1) AS ordinald_denominacion,
    ( SELECT monto FROM presupuesto_ordinal WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1) AS monto_ordinald,
    ( SELECT concat(( SELECT ramo FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1), '.', ( SELECT sub_ramo FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1), '.', ( SELECT especifico FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1), '.', ( SELECT sub_especifico FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1), '.', ( SELECT ordinal FROM presupuesto_ordinal WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1)) AS concat) AS concatenado
   	
    ,a.resolucion,
	a.n_resolucion
   FROM presupuesto_forma2102 a
  ORDER BY a.id;

-------------------------------------------------------------------------------------------------
--VISTA PRESUPUESTO - CATEGORIAS PROGRAMATICAS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_presupuesto_forma2103 AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	
	 	a.id_sector,
	 	(SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector,
	 	(SELECT denominacion FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector_denominacion,
	 	
	 	a.id_programa,
	 	(SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as programa,
	 	(SELECT denominacion FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	(SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as sub_programa,
	 	(SELECT denominacion FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as denominacion_sub_programa,
	 	
	 	a.unidad_ejecutora,
	 	a.funcionario_responsable,
	 	
	 	(SELECT concat((SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1), '.', (SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1), '.', (SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1))) as concatenado
	
	    ,a.resolucion,
		a.n_resolucion
   FROM presupuesto_forma2103 a ORDER BY a.id ASC;

-----------------------------------------------------------------------------------------------------

CREATE OR REPLACE VIEW view_presupuesto_forma2103_proyecto AS 
	SELECT 
	 	a.id,
	 	a.proyecto,
	 	a.denominacion,
	 	
	 	a.id_sector,
	 	(SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector,
	 	(SELECT denominacion FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector_denominacion,
	 	
	 	a.id_programa,
	 	(SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as programa,
	 	(SELECT denominacion FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	(SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as sub_programa,
	 	(SELECT denominacion FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as denominacion_sub_programa,
	 	
	 	(SELECT concat((SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1), '.', (SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1), '.', (SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1), '.', (a.proyecto))) as concatenado,
	 	a.ano,
	 	(SELECT unidad_ejecutora FROM presupuesto_forma2103 WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa limit 1) as unidad_ejecutora,
	 	(SELECT funcionario_responsable FROM presupuesto_forma2103 WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa limit 1) as funcionario_responsable
		
	    ,a.resolucion,
		a.n_resolucion
	FROM presupuesto_proyecto a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_presupuesto_forma2103_actividad AS 
	SELECT 
	 	a.id,
	 	a.actividad,
	 	a.denominacion,
	 	
	 	a.id_sector,
	 	(SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector,
	 	(SELECT denominacion FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector_denominacion,
	 	
	 	a.id_programa,
	 	(SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as programa,
	 	(SELECT denominacion FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	(SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as sub_programa,
	 	(SELECT denominacion FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as denominacion_sub_programa,
	 	
	 	(SELECT concat((SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1), '.', (SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1), '.', (SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1), '.', (a.actividad))) as concatenado,
	 	a.ano,
	 	(SELECT unidad_ejecutora FROM presupuesto_forma2103 WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa limit 1) as unidad_ejecutora,
	 	(SELECT funcionario_responsable FROM presupuesto_forma2103 WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa limit 1) as funcionario_responsable
		
	    ,a.resolucion,
		a.n_resolucion
   
	FROM presupuesto_actividad a ORDER BY a.id ASC;

	
-------------------------------------------------------------------------------------------------
--VISTA PRESUPUESTO - PROYECTOS--
-------------------------------------------------------------------------------------------------
CREATE OR REPLACE VIEW view_presupuesto_forma2121 AS 
	SELECT 
	 	a.id,
	 	a.ano,

	 	a.id_sector,
	 	(SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector,
	 	(SELECT denominacion FROM presupuesto_sector WHERE a.id_sector = id limit 1) as denominacion_sector,

	 	a.id_programa,
	 	(SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as programa,
	 	(SELECT denominacion FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	(SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as sub_programa,
	 	(SELECT denominacion FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as denominacion_sub_programa,

	 	a.id_proyecto,
	 	(SELECT proyecto FROM presupuesto_proyecto WHERE a.id_proyecto = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as proyecto,
		
		a.id_actividad,
	 	(SELECT actividad FROM presupuesto_actividad WHERE a.id_actividad = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as actividad,

	 	(SELECT sum(monto) FROM presupuesto_forma2121_partidas WHERE a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa and a.id_proyecto= id_proyecto and resolucion = 'false' limit 1) as monto_total_proyecto,
	 	(SELECT sum(monto) FROM presupuesto_forma2121_partidas WHERE a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa and a.id_actividad= id_actividad and resolucion = 'false' limit 1) as monto_total_actividad

	    ,a.resolucion,
		a.n_resolucion,
		(SELECT sum(monto) FROM presupuesto_forma2121_partidas WHERE a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa and a.id_proyecto= id_proyecto and resolucion = 'true' and n_resolucion = a.n_resolucion limit 1) as monto_total_proyecto_formulacion,
	 	(SELECT sum(monto) FROM presupuesto_forma2121_partidas WHERE a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa and a.id_actividad= id_actividad and resolucion = 'true' and n_resolucion = a.n_resolucion limit 1) as monto_total_actividad_formulacion
   
FROM presupuesto_forma2121 a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_presupuesto_forma2121_partidas AS 
	SELECT 
	 	a.id,
	 	a.ano,

	 	a.id_sector,
	 	(SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector,
	 	(SELECT denominacion FROM presupuesto_sector WHERE a.id_sector = id limit 1) as denominacion_sector,

	 	a.id_programa,
	 	(SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as programa,
	 	(SELECT denominacion FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	(SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as sub_programa,
	 	(SELECT denominacion FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as denominacion_sub_programa,
	 	
	 	a.id_proyecto,
	 	(SELECT proyecto FROM presupuesto_proyecto WHERE a.id_proyecto = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as proyecto,
	 	(SELECT denominacion FROM presupuesto_proyecto WHERE a.id_proyecto = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as denominacion_proyecto,
		
		a.id_actividad,
	 	(SELECT actividad FROM presupuesto_actividad WHERE a.id_actividad = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as actividad,
	 	(SELECT denominacion FROM presupuesto_actividad WHERE a.id_actividad = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as denominacion_actividad,


	 	
	    a.tipo_ingreso,
	    a.id_ramo,
	    ( SELECT ramo FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1) AS ramo,
	    ( SELECT descripcion FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1) AS ramo_denominacion,
	    ( SELECT monto FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1) AS monto_ramo,
	    a.id_sub_ramo,
	    ( SELECT sub_ramo FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1) AS sub_ramo,
	    ( SELECT descripcion FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1) AS sub_ramo_denominacion,
	    ( SELECT monto FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1) AS monto_sub_ramo,
	    a.id_especifico,
	    ( SELECT especifico FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1) AS especifico,
	    ( SELECT descripcion FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1) AS especifico_denominacion,
	    ( SELECT monto FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1) AS monto_especifico,
	    a.id_sub_especifico,
	    ( SELECT sub_especifico FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1) AS sub_especifico,
	    ( SELECT descripcion FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1) AS sub_especifico_denominacion,
	    ( SELECT monto FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1) AS monto_b_especifico,
	    a.ordinal,
	    ( SELECT ordinal FROM presupuesto_ordinal WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1) AS ordinald,
	    ( SELECT descripcion FROM presupuesto_ordinal WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico AND monto = a.monto LIMIT 1) AS ordinald_denominacion,
	    ( SELECT monto FROM presupuesto_ordinal WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1) AS monto_ordinald,
	    ( SELECT concat(( SELECT ramo FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1), '.', ( SELECT sub_ramo FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1), '.', ( SELECT especifico FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1), '.', ( SELECT sub_especifico FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1), '.', ( SELECT ordinal FROM presupuesto_ordinal WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1)) AS concat) AS concatenado,

	 	a.ingreso_propio,
		a.situado,
		a.ingreso_estadal,
		a.ingreso_fci,
		a.otra_fuente,	
		a.monto,
	
	    a.resolucion,
		a.n_resolucion
   
	FROM presupuesto_forma2121_partidas a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_presupuesto_nuevo_ordinal AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	
	    a.tipo_ingreso,
	    a.id_ramo,
	    ( SELECT ramo FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1) AS ramo,
	    ( SELECT descripcion FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1) AS ramo_denominacion,
	    ( SELECT monto FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1) AS monto_ramo,
	    a.id_sub_ramo,
	    ( SELECT sub_ramo FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1) AS sub_ramo,
	    ( SELECT descripcion FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1) AS sub_ramo_denominacion,
	    ( SELECT monto FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1) AS monto_sub_ramo,
	    a.id_especifico,
	    ( SELECT especifico FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1) AS especifico,
	    ( SELECT descripcion FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1) AS especifico_denominacion,
	    ( SELECT monto FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1) AS monto_especifico,
	    a.id_sub_especifico,
	    ( SELECT sub_especifico FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1) AS sub_especifico,
	    ( SELECT descripcion FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1) AS sub_especifico_denominacion,
	    ( SELECT monto FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1) AS monto_b_especifico,
	    a.ordinal,
	    ( SELECT ordinal FROM presupuesto_ordinal_nuevo WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1) AS ordinald,
	    ( SELECT descripcion FROM presupuesto_ordinal_nuevo WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico and a.monto = monto  LIMIT 1) AS ordinald_denominacion,
	    ( SELECT monto FROM presupuesto_ordinal_nuevo WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1) AS monto_ordinald,
	    ( SELECT concat(( SELECT ramo FROM presupuesto_ramo WHERE a.id_ramo = id LIMIT 1), '.', ( SELECT sub_ramo FROM presupuesto_sub_ramo WHERE a.id_sub_ramo = id::integer and a.id_ramo = id_ramo LIMIT 1), '.', ( SELECT especifico FROM presupuesto_especifico WHERE a.id_especifico = id::integer and a.id_sub_ramo = id_sub_ramo LIMIT 1), '.', ( SELECT sub_especifico FROM presupuesto_sub_especifico WHERE a.id_sub_especifico = id::integer and a.id_especifico = id_especifico LIMIT 1), '.', ( SELECT ordinal FROM presupuesto_ordinal_nuevo WHERE a.ordinal = ordinal::integer and a.id_sub_especifico = id_sub_especifico LIMIT 1)) AS concat) AS concatenado,

	 	a.ingreso_propio,
		a.situado,
		a.ingreso_estadal,
		a.ingreso_fci,
		a.otra_fuente,	
		a.monto
	FROM presupuesto_nuevo_ordinal a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_presupuesto_partidas_transf  AS 
	SELECT 
	 	a.id,
	 	a.ano,

	    a.tipo_ingreso,
	    a.id_ramo,
	    a.ramo,
	    a.ramo_denominacion,
	    a.monto_ramo,
	    a.id_sub_ramo,
	    a.sub_ramo,
	    a.sub_ramo_denominacion,
	    a.monto_sub_ramo,
	    a.id_especifico,
	    a.especifico,
	    a.especifico_denominacion,
	    a.monto_especifico,
	    a.id_sub_especifico,
	    a.sub_especifico,
	    a.sub_especifico_denominacion,
	    a.monto_b_especifico,
	    a.ordinal,
	    a.ordinald,
	    a.ordinald_denominacion,
	    a.monto_ordinald,
	    a.concatenado,

	 	a.ingreso_propio,
		a.situado,
		a.ingreso_estadal,
		a.ingreso_fci,
		a.otra_fuente,	
		a.monto,
		a.id_sector,
		a.id_programa,
		a.id_sub_programa,
		a.id_proyecto,
		a.id_actividad
	FROM view_presupuesto_forma2121_partidas a;




CREATE OR REPLACE VIEW view_presupuesto_forma2121_disponible AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	-----------------------------------------
	 	a.id_sector,
	 	a.sector,
	 	a.denominacion_sector,

	 	a.id_programa,
	 	a.programa,
	 	a.denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	a.sub_programa,
	 	a.denominacion_sub_programa,
	 	
	 	a.id_proyecto,
	 	a.proyecto,
	 	a.denominacion_proyecto,
		
		a.id_actividad,
	 	a.actividad,
	 	a.denominacion_actividad,
	 	-----------------------------------------
	    a.id_ramo,
	    a.ramo,
	    a.ramo_denominacion,
	    a.monto_ramo,

	    a.id_sub_ramo,
	    a.sub_ramo,
	    a.sub_ramo_denominacion,
	    a.monto_sub_ramo,

	    a.id_especifico,
	    a.especifico,
	    a.especifico_denominacion,
	    a.monto_especifico,

	    a.id_sub_especifico,
	    a.sub_especifico,
	    a.sub_especifico_denominacion,
	    a.monto_b_especifico,
	    
	    a.ordinal,
	    a.ordinald,
	    a.ordinald_denominacion,
	    a.monto_ordinald,
	 	-----------------------------------------
	    a.concatenado,
	 	-----------------------------------------
	 	a.ingreso_propio,
		a.situado,
		a.ingreso_estadal,
		a.ingreso_fci,
		a.otra_fuente,	
		a.monto as monto_presupuesto,
		-----------------------------------------
		(select sum(incrementar) from presupuesto_forma2121_ajuste where partida = a.concatenado and id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa and (id_proyecto = a.id_proyecto or id_actividad = a.id_actividad)) as monto_incremento,
		(select sum(disminuir) from presupuesto_forma2121_ajuste where partida = a.concatenado and id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa and (id_proyecto = a.id_proyecto or id_actividad = a.id_actividad)) as monto_disminuido,
		-----------------------------------------
		(SELECT SUM(monto_comprometer) FROM ejecucion_requisicion_nomina where partida = a.concatenado) as monto_comprometido_nomina,
	 	(SELECT SUM(monto_comprometer) FROM ejecucion_requisicion_compra where partida = a.concatenado) as monto_comprometido_compra
	
	 	,a.resolucion,
		a.n_resolucion
	FROM view_presupuesto_forma2121_partidas a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_presupuesto_forma2121_ajuste AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.fecha,

	 	a.id_sector,
	 	(SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector,
	 	(SELECT denominacion FROM presupuesto_sector WHERE a.id_sector = id limit 1) as denominacion_sector,

	 	a.id_programa,
	 	(SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as programa,
	 	(SELECT denominacion FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	(SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as sub_programa,
	 	(SELECT denominacion FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as denominacion_sub_programa,
	 	
	 	a.id_proyecto,
	 	(SELECT proyecto FROM presupuesto_proyecto WHERE a.id_proyecto = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as proyecto,
	 	(SELECT denominacion FROM presupuesto_proyecto WHERE a.id_proyecto = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as denominacion_proyecto,
		
		a.id_actividad,
	 	(SELECT actividad FROM presupuesto_actividad WHERE a.id_actividad = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as actividad,
	 	(SELECT denominacion FROM presupuesto_actividad WHERE a.id_actividad = id and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as denominacion_actividad,
	
		a.partida,
		(select ordinald_denominacion from view_presupuesto_forma2121_partidas where a.partida = concatenado and a.id_sector = id_sector and a.id_programa = id_programa and a.id_sub_programa = id_sub_programa limit 1) as denominacion_partida,
		a.tipo_ajuste,
		a.incrementar,
		a.disminuir,
	
	    a.resolucion,
		a.n_resolucion
	FROM presupuesto_forma2121_ajuste a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_presupuesto_forma2121_ajuste2 AS 
	select
		a.sector, 
		a.denominacion_sector, 
		a.programa, 
		a.denominacion_programa, 
		a.sub_programa, 
		a.denominacion_sub_programa, 
		a.proyecto, 
		a.denominacion_proyecto, 
		a.actividad, 
		a.denominacion_actividad, 
		a.partida, 
		a.denominacion_partida, 
		a.tipo_ajuste, 
		a.resolucion, 
		a.n_resolucion, 
		sum(a.incrementar) as incrementar, 
		sum(a.disminuir) as disminuir,
		a.ano,
		a.fecha

	from view_presupuesto_forma2121_ajuste a group by a.sector, a.denominacion_sector, a.programa, a.denominacion_programa, a.sub_programa, a.denominacion_sub_programa, a.proyecto, a.denominacion_proyecto, a.actividad, a.denominacion_actividad, a.partida, a.denominacion_partida, a.tipo_ajuste, a.resolucion, a.n_resolucion, a.ano, a.fecha order by a.sector ASC, a.programa ASC, a.proyecto ASC, a.actividad ASC, a.partida ASC ;

CREATE OR REPLACE VIEW view_presupuesto_forma2103_fusion AS 
 	SELECT 
	 	a.id,
	 	a.actividad,
	 	a.denominacion,
	 	
	 	a.id_sector,
	 	(SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector,
	 	(SELECT denominacion FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector_denominacion,
	 	
	 	a.id_programa,
	 	(SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as programa,
	 	(SELECT denominacion FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	(SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as sub_programa,
	 	(SELECT denominacion FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as denominacion_sub_programa,
	 	
	 	(SELECT concat((SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1), '.', (SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1), '.', (SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1), '.', (a.actividad))) as concatenado,
	 	a.ano,
	 	(SELECT unidad_ejecutora FROM presupuesto_forma2103 WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa limit 1) as unidad_ejecutora,
	 	(SELECT funcionario_responsable FROM presupuesto_forma2103 WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa limit 1) as funcionario_responsable,
			
	 	(SELECT sum(monto) FROM view_presupuesto_forma2121_partidas WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa and id_actividad = a.id limit 1) as monto
	FROM presupuesto_actividad a

	UNION

 	SELECT 
	 	a.id,
	 	a.proyecto,
	 	a.denominacion,
	 	
	 	a.id_sector,
	 	(SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector,
	 	(SELECT denominacion FROM presupuesto_sector WHERE a.id_sector = id limit 1) as sector_denominacion,
	 	
	 	a.id_programa,
	 	(SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as programa,
	 	(SELECT denominacion FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1) as denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	(SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as sub_programa,
	 	(SELECT denominacion FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1) as denominacion_sub_programa,
	 	
	 	(SELECT concat((SELECT sector FROM presupuesto_sector WHERE a.id_sector = id limit 1), '.', (SELECT programa FROM presupuesto_programa WHERE a.id_programa = id::integer and id_sector = a.id_sector limit 1), '.', (SELECT sub_programa FROM presupuesto_sub_programa WHERE a.id_sub_programa = id::integer and id_programa = a.id_programa limit 1), '.', (a.proyecto))) as concatenado,
	 	a.ano,
	 	(SELECT unidad_ejecutora FROM presupuesto_forma2103 WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa limit 1) as unidad_ejecutora,
	 	(SELECT funcionario_responsable FROM presupuesto_forma2103 WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa limit 1) as funcionario_responsable,
		
	 	(SELECT sum(monto) FROM view_presupuesto_forma2121_partidas WHERE id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa and id_proyecto = a.id limit 1) as monto
	FROM presupuesto_proyecto a;



	CREATE OR REPLACE VIEW view_ejecucion_balance_general AS 
	SELECT 
	 	a.id,
	 	a.ano,

	 	a.id_sector,
	 	a.sector,
	 	a.denominacion_sector,

	 	a.id_programa,
	 	a.programa,
	 	a.denominacion_programa,
	 	
	 	a.id_sub_programa,
	 	a.sub_programa,
	 	a.denominacion_sub_programa,
	 	
	 	a.id_proyecto,
	 	a.proyecto,
	 	a.denominacion_proyecto,
		
		a.id_actividad,
	 	a.actividad,
	 	a.denominacion_actividad,

	    a.tipo_ingreso,
	    a.id_ramo,
	    a.ramo,
	    a.ramo_denominacion,
	    a.monto_ramo,
	    a.id_sub_ramo,
	    a.sub_ramo,
	    a.sub_ramo_denominacion,
	    a.monto_sub_ramo,
	    a.id_especifico,
	    a.especifico,
	    a.especifico_denominacion,
	    a.monto_especifico,
	    a.id_sub_especifico,
	    a.sub_especifico,
	    a.sub_especifico_denominacion,
	    a.monto_b_especifico,
	    a.ordinal,
	    a.ordinald,
	    a.ordinald_denominacion,
	    a.monto_ordinald,
	    a.concatenado,

	 	a.ingreso_propio,
		a.situado,
		a.ingreso_estadal,
		a.ingreso_fci,
		a.otra_fuente,	
		a.monto,
	
	    a.resolucion,
		a.n_resolucion
   
	FROM view_presupuesto_forma2121_partidas a ORDER BY a.id ASC;



	CREATE OR REPLACE VIEW view_presupuesto_programa AS 
	SELECT 
		a.id,
		a.id_sector,
		(select sector from presupuesto_sector where id = a.id_sector limit 1) as sector,
		a.programa,
		a.denominacion,
		a.tipo_categoria,
		a.resolucion,
		a.n_resolucion
	FROM presupuesto_programa a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_presupuesto_sub_programa AS 
	SELECT 
		a.id,
		a.id_sector,
		(select sector from presupuesto_sector where id = a.id_sector limit 1) as sector,
		a.id_programa,
		(select programa from presupuesto_programa where id = a.id_programa and id_sector = a.id_sector limit 1) as programa,
		a.sub_programa,
		a.denominacion,
		a.tipo_categoria,
		a.resolucion,
		a.n_resolucion
	FROM presupuesto_sub_programa a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_presupuesto_actividad AS 
	SELECT 
		a.id,
		a.id_sector,
		(select sector from presupuesto_sector where id = a.id_sector limit 1) as sector,
		a.id_programa,
		(select programa from presupuesto_programa where id = a.id_programa and id_sector = a.id_sector limit 1) as programa,
		a.id_sub_programa,
		(select sub_programa from presupuesto_sub_programa where id = a.id_sub_programa and id_programa = a.id_programa and id_sector = a.id_sector limit 1) as sub_programa,
		a.actividad,
		a.denominacion,
		a.ano,
		a.resolucion,
		a.n_resolucion
	FROM presupuesto_actividad a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_presupuesto_proyecto AS 
	SELECT 
		a.id,
		a.id_sector,
		(select sector from presupuesto_sector where id = a.id_sector limit 1) as sector,
		a.id_programa,
		(select programa from presupuesto_programa where id = a.id_programa and id_sector = a.id_sector limit 1) as programa,
		a.id_sub_programa,
		(select sub_programa from presupuesto_sub_programa where id = a.id_sub_programa and id_programa = a.id_programa and id_sector = a.id_sector limit 1) as sub_programa,
		a.proyecto,
		a.denominacion,
		a.ano,
		a.resolucion,
		a.n_resolucion
	FROM presupuesto_proyecto a ORDER BY a.id ASC;


-------------------------------------------------------------------------------------------------
--VISTAS DE COMPRA--
-------------------------------------------------------------------------------------------------

CREATE OR REPLACE VIEW view_compra_orden_compras AS 
	SELECT 
	 	a.id as id,
	 	a.requisicion as requisicion,
	 	(select status from compra_requisicion where a.requisicion = id limit 1) as status,
	 	a.fecha as fecha,
	 	a.ano as ano,
	 	(SELECT razon_social FROM compra_proveedores WHERE a.proveedor = rif limit 1) as proveedor,
	 	(SELECT letra FROM compra_proveedores WHERE a.proveedor = rif limit 1) as letra,
	 	a.proveedor as rif,
	 	a.descripcion_ordena as descripcion_ordena,
	 	(SELECT sum(sub_total) FROM compra_orden_compras_items WHERE a.id = id_orden limit 1) as total,
	 	a.descripcion_ordena_mod,
		(select numero_orden_pago from compra_requisicion where a.requisicion = id limit 1) as numero_orden_pago
	 FROM compra_orden_compras a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_compra_orden_compras_items AS 
	SELECT 
	 	a.id,
	 	a.id_orden,
	 	(SELECT requisicion FROM compra_orden_compras WHERE a.id_orden = id limit 1) as requisicion,
	 	(SELECT concat((SELECT sector FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1), '.', (SELECT programa FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1), '.', (SELECT proyecto FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1), (SELECT actividad FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1)) AS concat) AS unidad_solicitante,
	 	(SELECT unidad_ejecutora FROM view_presupuesto_forma2103 WHERE 
	 		id_sector = (SELECT id_sector FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1) and 
	 		id_programa = (SELECT id_programa FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1) and 
	 		id_sub_programa = (SELECT id_sub_programa FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1) 
	 	limit 1) AS unidad_ejecutora,
	 	a.descripcion_item,
	 	a.cantidad,
	 	a.unidad_medida,
	 	a.precio_unitario,
	 	a.iva,
	 	a.sub_total,
	 	(SELECT concatenado FROM view_presupuesto_forma2121_partidas WHERE a.id_partida = id limit 1) as id_partida,
	 	a.descripcion_partida,
	 	a.fecha,
	 	a.ano,
	 	a.unidad_solicitante as id_unidad_solicitantem,
	 	a.id_partida as partida
	FROM compra_orden_compras_items a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_compra_orden_servicio AS 
	SELECT 
	 	a.id as id,
	 	a.requisicion as requisicion,
	 	(select status from compra_requisicion where a.requisicion = id limit 1) as status,
	 	a.fecha as fecha,
	 	a.ano as ano,
	 	(SELECT razon_social FROM compra_proveedores WHERE a.proveedor = rif limit 1) as proveedor,
	 	(SELECT letra FROM compra_proveedores WHERE a.proveedor = rif limit 1) as letra,
	 	a.proveedor as rif,
	 	a.descripcion_ordena as descripcion_ordena,
	 	(SELECT sum(sub_total) FROM compra_orden_servicio_items WHERE a.id = id_orden limit 1) as total,
	 	a.descripcion_ordena_mod,
		(select numero_orden_pago from compra_requisicion where a.requisicion = id limit 1) as numero_orden_pago
	 FROM compra_orden_servicio a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_compra_orden_servicio_items AS 
	SELECT 
	 	a.id,
	 	a.id_orden,
	 	(SELECT requisicion FROM compra_orden_servicio WHERE a.id_orden = id limit 1) as requisicion,
	 	(SELECT concat((SELECT sector FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1), '.', (SELECT programa FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1), '.', (SELECT proyecto FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1), (SELECT actividad FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1)) AS concat) AS unidad_solicitante,
	 	(SELECT unidad_ejecutora FROM view_presupuesto_forma2103 WHERE 
	 		id_sector = (SELECT id_sector FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1) and 
	 		id_programa = (SELECT id_programa FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1) and 
	 		id_sub_programa = (SELECT id_sub_programa FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1) 
	 	limit 1) AS unidad_ejecutora,
	 	a.descripcion_item,
	 	a.cantidad,
	 	a.unidad_medida,
	 	a.precio_unitario,
	 	a.iva,
	 	a.sub_total,
	 	(SELECT concatenado FROM view_presupuesto_forma2121_partidas WHERE a.id_partida = id limit 1) as id_partida,
	 	a.descripcion_partida,
	 	a.fecha,
	 	a.ano,
	 	a.unidad_solicitante as id_unidad_solicitantem,
	 	a.id_partida as partida
	FROM compra_orden_servicio_items a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_compra_fusion AS 
	SELECT 
	 	a.id as id,
	 	a.requisicion as requisicion,
	 	(select status from compra_requisicion where a.requisicion = id limit 1) as status,
	 	a.fecha as fecha,
	 	a.ano as ano,
	 	(SELECT razon_social FROM compra_proveedores WHERE a.proveedor = rif limit 1) as proveedor,
	 	(SELECT letra FROM compra_proveedores WHERE a.proveedor = rif limit 1) as letra,
	 	a.proveedor as rif,
	 	a.descripcion_ordena as descripcion_ordena,
	 	(SELECT sum(sub_total) FROM compra_orden_compras_items WHERE a.id = id_orden limit 1) as total,
	 	a.descripcion_ordena_mod,
		(select numero_orden_pago from compra_requisicion where a.requisicion = id limit 1) as numero_orden_pago,
		'COMPRA' as tipo
	 FROM compra_orden_compras a 
UNION
	SELECT 
	 	a.id as id,
	 	a.requisicion as requisicion,
	 	(select status from compra_requisicion where a.requisicion = id limit 1) as status,
	 	a.fecha as fecha,
	 	a.ano as ano,
	 	(SELECT razon_social FROM compra_proveedores WHERE a.proveedor = rif limit 1) as proveedor,
	 	(SELECT letra FROM compra_proveedores WHERE a.proveedor = rif limit 1) as letra,
	 	a.proveedor as rif,
	 	a.descripcion_ordena as descripcion_ordena,
	 	(SELECT sum(sub_total) FROM compra_orden_servicio_items WHERE a.id = id_orden limit 1) as total,
	 	a.descripcion_ordena_mod,
		(select numero_orden_pago from compra_requisicion where a.requisicion = id limit 1) as numero_orden_pago,
	 	'SERVICIO' as tipo
	 FROM compra_orden_servicio a;


CREATE OR REPLACE VIEW view_compra_orden_fusion AS 
	SELECT 
	 	a.id,
	 	a.id_orden,
	 	a.requisicion,
	 	a.unidad_solicitante,
	 	a.unidad_ejecutora,
	 	a.descripcion_item,
	 	a.cantidad,
	 	a.unidad_medida,
	 	a.precio_unitario,
	 	a.iva,
	 	a.sub_total,
	 	a.id_partida,
	 	a.descripcion_partida,
	 	a.fecha,
	 	a.ano,
	 	a.id_unidad_solicitantem,
	 	a.partida
	FROM view_compra_orden_compras_items a 
UNION
	SELECT 
	 	a.id,
	 	a.id_orden,
	 	a.requisicion,
	 	a.unidad_solicitante,
	 	a.unidad_ejecutora,
	 	a.descripcion_item,
	 	a.cantidad,
	 	a.unidad_medida,
	 	a.precio_unitario,
	 	a.iva,
	 	a.sub_total,
	 	a.id_partida,
	 	a.descripcion_partida,
	 	a.fecha,
	 	a.ano,
	 	a.id_unidad_solicitantem,
	 	a.partida
	FROM view_compra_orden_servicio_items a;

CREATE OR REPLACE VIEW view_compra_filtro_ordenes_comprometidas AS 
	SELECT 
	 	a.id as requisicion,
	 	a.tipo,
	 	CASE
  			WHEN ((SELECT count(*) FROM compra_orden_compras WHERE a.id = requisicion) <> 0) THEN (SELECT proveedor FROM compra_orden_compras WHERE a.id = requisicion limit 1)
  			WHEN ((SELECT count(*) FROM compra_orden_servicio WHERE a.id = requisicion) <> 0) THEN (SELECT proveedor FROM compra_orden_servicio WHERE a.id = requisicion limit 1)
  		END AS proveedor,
	 	CASE
  			WHEN ((SELECT count(*) FROM compra_orden_compras WHERE a.id = requisicion) <> 0) THEN (SELECT razon_social FROM compra_proveedores WHERE rif = (SELECT proveedor FROM compra_orden_compras WHERE a.id = requisicion limit 1) limit 1)
  			WHEN ((SELECT count(*) FROM compra_orden_servicio WHERE a.id = requisicion) <> 0) THEN (SELECT razon_social FROM compra_proveedores WHERE rif = (SELECT proveedor FROM compra_orden_servicio WHERE a.id = requisicion limit 1) limit 1)
  		END AS proveedor_denominacion,
  		CASE
  			WHEN ((SELECT count(*) FROM compra_orden_compras WHERE a.id = requisicion) <> 0) THEN (SELECT id FROM compra_orden_compras WHERE a.id = requisicion limit 1)
  			WHEN ((SELECT count(*) FROM compra_orden_servicio WHERE a.id = requisicion) <> 0) THEN (SELECT id FROM compra_orden_servicio WHERE a.id = requisicion limit 1)
  		END AS id_registro,
  		a.status,
  		a.fecha,
  		CASE
  			WHEN ((SELECT count(*) FROM compra_orden_compras WHERE a.id = requisicion) <> 0) THEN (SELECT total FROM view_compra_orden_compras WHERE a.id = requisicion limit 1)
  			WHEN ((SELECT count(*) FROM compra_orden_servicio WHERE a.id = requisicion) <> 0) THEN (SELECT total FROM view_compra_orden_servicio WHERE a.id = requisicion limit 1)
  		END AS monto,
  		a.numero_orden_pago,
  		a.numero_orden_pago_ord
	 FROM compra_requisicion a ORDER BY a.id ASC;
	 
CREATE OR REPLACE VIEW view_mrrhh_requisicion AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.mes,
	 	(SELECT denominacion FROM mes WHERE a.mes = id limit 1) as mes_denominacion,
	 	a.quincena,
	 	(SELECT denominacion FROM quincena WHERE a.quincena = id limit 1) as quincena_denominacion,
	 	a.id_tipo_personal,
	 	(SELECT denominacion FROM mrrhh_tipo_personal WHERE a.id_tipo_personal = id limit 1) as tipo_personal_denominacion,
	 	a.tipo,
	 	a.status,
	 	a.concepto,
	 	a.tipo_porcentaje,
 		a.porcentaje,
	 	a.fecha_rrhh,
	 	a.hora_rrhh,
	 	a.fecha_ejecucion,
	 	a.hora_ejecucion,
	 	a.fecha_ordenamiento,
	 	a.hora_ordenamiento,
	 	a.fecha_tesoreria,
	 	a.hora_tesoreria,
	 	a.prima_profesion,
 	 	a.prima_hogar,
 	 	a.prima_hijos,
 	 	a.prima_antiguedad,
 	 	a.sso,
 	 	a.rpe,
 	 	a.faov,
 	 	a.fjp,
 	 	a.caja_ahorro,
 	 	a.acofjam,
 	 	a.asociacion_funeraria,
 	 	a.depositario_judicial,
 	 	a.beca_escolar_inicial,
 	 	a.beca_escolar_primaria,
 	 	a.beca_escolar_secundaria,
 	 	a.beca_escolar_universitaria,
 	 	a.beca_escolar_discapacidad,
 	 	a.numero_orden_pago,
 	 	a.concepto_mod,
 	 	a.monto,
 	 	a.concepto2,
 		a.monto2,
	 	a.tipo_porcentaje2,
 		a.concepto3,
 		a.monto3,
	 	a.tipo_porcentaje3,
 		a.concepto4,
 		a.monto4,
	 	a.tipo_porcentaje4,
	 	a.numero_orden_pago_ord,
	 	a.partida,
	 	a.denominacion, 
	 	a.omitida,
	 	a.desde,
	 	a.hasta
	FROM mrrhh_requisicion a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_requisicion_servicios AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.mes,
	 	(SELECT denominacion FROM mes WHERE a.mes = id limit 1) as mes_denominacion,
	 	a.quincena,
	 	(SELECT denominacion FROM quincena WHERE a.quincena = id limit 1) as quincena_denominacion,
	 	a.id_tipo_personal,
	 	(SELECT denominacion FROM mrrhh_tipo_personal WHERE a.id_tipo_personal = id limit 1) as tipo_personal_denominacion,
	 	a.concepto,
	 	(SELECT sum(monto) from mrrhh_requisicion_servicios_partidas where requisicion = a.id) as monto,
 	 	a.numero_orden_pago,
 	 	a.concepto_mod,
	 	a.numero_orden_pago_ord,
	 	a.fecha_rrhh,
	 	a.hora_rrhh,
	 	a.fecha_ejecucion,
	 	a.hora_ejecucion,
	 	a.fecha_ordenamiento,
	 	a.hora_ordenamiento,
	 	a.fecha_tesoreria,
	 	a.hora_tesoreria,
	 	a.status,
	 	a.beneficiario as rif,
	 	(SELECT nombres FROM ejecucion_beneficiarios WHERE a.beneficiario = cedula limit 1) as beneficiario,
	 	(SELECT letra FROM ejecucion_beneficiarios WHERE a.beneficiario = cedula limit 1) as letra
	FROM mrrhh_requisicion_servicios a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_mrrhh_requisicion_servicios_partidas AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.requisicion,
	 	a.id_partida,
	 	(SELECT partida FROM presupuesto_egresos WHERE a.id_partida = id limit 1) as partida,
	 	(SELECT denominacion FROM presupuesto_egresos WHERE a.id_partida = id limit 1) as denominacion_partida,
	 	a.monto
	 FROM mrrhh_requisicion_servicios_partidas a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_compra_requisicion AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.fecha,
	 	a.mes,
	 	(SELECT denominacion FROM mes WHERE a.mes = id limit 1) as mes_denominacion,
	 	a.tipo,
	 	a.status,
	 	a.fecha_rrhh,
	 	a.hora_rrhh,
	 	a.fecha_ejecucion,
	 	a.hora_ejecucion,
	 	a.fecha_ordenamiento,
	 	a.hora_ordenamiento,
	 	a.fecha_tesoreria,
	 	a.hora_tesoreria,
 	 	a.numero_orden_pago,
	 	a.numero_orden_pago_ord,
	 	a.numero_orden_pago_ord2,
	 	a.numero_orden_pago_ord3,
	 	a.numero_orden_pago_ord4,
	 	a.status1,
	 	a.status2,
	 	a.status3,
	 	a.status4
	FROM compra_requisicion a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_ejecucion_requisicion_nomina AS 
	SELECT 
	 	a.id,
	 	a.id_requisicion,
	 	a.partida,
	 	a.denominacion,
	 	a.monto_comprometer,
	 	a.ano,
	 	a.fecha
	FROM ejecucion_requisicion_nomina a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_ejecucion_requisicion_compra AS 
	SELECT 
	 	a.id,
	 	a.id_requisicion,
	 	a.partida,
	 	a.denominacion,
	 	a.monto_comprometer,
	 	a.ano,
	 	a.fecha
	FROM ejecucion_requisicion_compra a ORDER BY a.id ASC;

--NUEVO
CREATE OR REPLACE VIEW view_ejecucion_requisicion_servicio AS 
	SELECT 
	 	a.id,
	 	a.id_requisicion,
	 	a.partida,
	 	a.denominacion,
	 	a.monto_comprometer,
	 	a.ano,
	 	a.fecha
	FROM ejecucion_requisicion_servicio a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_ejecucion_transferencia AS 
	SELECT 
	 	a.id as id,
	 	a.requisicion as requisicion,
	 	(select status from ejecucion_requisicion_transferencia where a.requisicion = id limit 1) as status,
	 	a.fecha as fecha,
	 	a.ano as ano,
	 	(SELECT nombres FROM ejecucion_beneficiarios WHERE a.beneficiario = cedula limit 1) as beneficiario,
	 	(SELECT letra FROM ejecucion_beneficiarios WHERE a.beneficiario = cedula limit 1) as letra,
	 	a.beneficiario as cedula,
	 	a.descripcion_ordena as descripcion_ordena,
	 	(SELECT sum(sub_total) FROM ejecucion_transferencia_items WHERE a.id = id_orden limit 1) as total,
	 	a.descripcion_ordena_mod,
	 	(select numero_orden_pago from ejecucion_requisicion_transferencia where a.requisicion = id limit 1) as numero_orden_pago,
	 	(select numero_orden_pago_ord from ejecucion_requisicion_transferencia where a.requisicion = id limit 1) as numero_orden_pago_ord
	 FROM ejecucion_transferencia a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_ejecucion_transferencia_items AS 
	SELECT 
	 	a.id,
	 	a.id_orden,
	 	(SELECT requisicion FROM ejecucion_transferencia WHERE a.id_orden = id limit 1) as requisicion,
	 	(SELECT concat((SELECT sector FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1), '.', (SELECT programa FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1), '.', (SELECT proyecto FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1), (SELECT actividad FROM view_presupuesto_forma2121 WHERE a.unidad_solicitante = id limit 1)) AS concat) AS unidad_solicitante,
	 	a.descripcion_item,
	 	a.cantidad,
	 	a.unidad_medida,
	 	a.precio_unitario,
	 	a.iva,
	 	a.sub_total,
	 	(SELECT concatenado FROM view_presupuesto_partidas_transf WHERE a.id_partida = id limit 1) as id_partida,
	 	a.descripcion_partida,
	 	a.fecha,
	 	a.ano,
	 	a.unidad_solicitante as id_unidad_solicitante,
	 	a.id_partida as partida
	FROM ejecucion_transferencia_items a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_ejecucion_requisicion_transferencia AS 
	SELECT 
	 	a.id,
	 	a.ano,
	 	a.fecha,
	 	a.mes,
	 	(SELECT denominacion FROM mes WHERE a.mes = id limit 1) as mes_denominacion,
	 	a.tipo,
	 	a.status,
	 	(SELECT nombres FROM ejecucion_beneficiarios WHERE cedula = (SELECT beneficiario FROM ejecucion_transferencia WHERE a.id = requisicion limit 1) limit 1) as beneficiario,
	 	(SELECT SUM(sub_total) from ejecucion_transferencia_items WHERE id_orden = (SELECT id from ejecucion_transferencia where requisicion = a.id limit 1)) as total,
	 	a.fecha_rrhh,
	 	a.hora_rrhh,
	 	a.fecha_ejecucion,
	 	a.hora_ejecucion,
	 	a.fecha_ordenamiento,
	 	a.hora_ordenamiento,
	 	a.fecha_tesoreria,
	 	a.hora_tesoreria,
 	 	a.numero_orden_pago,
	 	a.numero_orden_pago_ord
	FROM ejecucion_requisicion_transferencia a ORDER BY a.id ASC;

------------------------------------------------------------------------------------------------

CREATE OR REPLACE VIEW view_ejecucion_balance_partidas AS 
	SELECT 
	    a.id_ramo,
	    a.ramo,
	    a.ramo_denominacion,
	    a.monto_ramo,
	 	
	 (SELECT SUM(incrementar) FROM presupuesto_forma2121_ajuste where partida = a.concatenado and tipo_ajuste='+' GROUP BY fecha limit 1)::decimal as incrementar,
	 (SELECT SUM(disminuir) FROM presupuesto_forma2121_ajuste where partida = a.concatenado and tipo_ajuste='-' GROUP BY fecha limit 1)::decimal as disminuir,
	 (SELECT fecha FROM presupuesto_forma2121_ajuste where partida = a.concatenado GROUP BY fecha limit 1) as fecha,
	    
	(SELECT SUM(monto_comprometer) FROM ejecucion_requisicion_nomina where partida = a.concatenado GROUP BY fecha limit 1)::decimal as monto_comprometido_nomina,
	(SELECT fecha FROM ejecucion_requisicion_nomina where partida = a.concatenado GROUP BY fecha limit 1) as fecha_comprometido_nomina,
	 	
	(SELECT SUM(monto_comprometer) FROM ejecucion_requisicion_compra where partida = a.concatenado GROUP BY fecha limit 1)::decimal as monto_comprometido_compra,
	(SELECT fecha FROM ejecucion_requisicion_compra where partida = a.concatenado GROUP BY fecha limit 1) as fecha_comprometido_compra
	
FROM view_presupuesto_forma2121_partidas a ORDER BY a.ramo ASC;

CREATE OR REPLACE VIEW view_ejecucion_balance_partidas_aux AS 
	SELECT 
	    a.id_ramo,
	    a.ramo,
	    a.ramo_denominacion,
	    a.monto_ramo,
	 	sum (a.incrementar) as incrementar,
	 	sum (a.disminuir) as disminuir,
	 	a.fecha,
	    sum (a.monto_comprometido_nomina) as monto_comprometido_nomina,
	    a.fecha_comprometido_nomina,
	 	sum (a.monto_comprometido_compra) as monto_comprometido_compra,
	 	a.fecha_comprometido_compra
	 FROM view_ejecucion_balance_partidas a GROUP BY a.id_ramo, a.ramo, a.ramo_denominacion, a.monto_ramo, a.fecha, a.fecha_comprometido_nomina, a.fecha_comprometido_compra ORDER BY a.ramo ASC;
--------------------------------------------------------------------------------------------------------------
/*
CREATE OR REPLACE VIEW view_ejecucion_balance_sectores AS 
	SELECT 
	    a.id_sector,
	    a.sector,
	    a.denominacion_sector,

	    a.id_programa,
	    a.programa,
	    a.denominacion_programa,

	    a.id_sub_programa,
	    a.sub_programa,
	    a.denominacion_sub_programa,

	    a.id_proyecto,
	    a.proyecto,
	    a.denominacion_proyecto,

	    a.id_actividad,
	    a.actividad,
	    a.denominacion_actividad,

	 	(SELECT monto FROM view_presupuesto_forma2103_fusion where id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa and actividad = a.actividad limit 1) as monto_actividad,
	 	(SELECT monto FROM view_presupuesto_forma2103_fusion where id_sector = a.id_sector and id_programa = a.id_programa and id_sub_programa = a.id_sub_programa and actividad = a.proyecto limit 1) as monto_proyecto,
	    --a.monto_ramo,

	 	(SELECT SUM(ajuste) FROM presupuesto_forma2121_ajuste where partida = a.concatenado GROUP BY fecha)::decimal as ajuste,
	 	(SELECT fecha FROM presupuesto_forma2121_ajuste where partida = a.concatenado GROUP BY fecha) as fecha_ajuste,
	    
	    (SELECT SUM(monto_comprometer) FROM ejecucion_requisicion_nomina where partida = a.concatenado GROUP BY fecha)::decimal as monto_comprometido_nomina,
	    (SELECT fecha FROM ejecucion_requisicion_nomina where partida = a.concatenado GROUP BY fecha) as fecha_comprometido_nomina,
	 	
	 	(SELECT SUM(monto_comprometer) FROM ejecucion_requisicion_compra where partida = a.concatenado GROUP BY fecha)::decimal as monto_comprometido_compra,
	 	(SELECT fecha FROM ejecucion_requisicion_compra where partida = a.concatenado GROUP BY fecha) as fecha_comprometido_compra
	 FROM view_presupuesto_forma2121_partidas a ORDER BY a.ramo ASC;

CREATE OR REPLACE VIEW view_ejecucion_balance_sectores_aux AS 
	SELECT 
	    a.id_sector,
	    a.sector,
	    a.denominacion_sector,

	    a.id_programa,
	    a.programa,
	    a.denominacion_programa,

	    a.id_sub_programa,
	    a.sub_programa,
	    a.denominacion_sub_programa,

	    a.id_proyecto,
	    a.proyecto,
	    a.denominacion_proyecto,

	    a.id_actividad,
	    a.actividad,
	    a.denominacion_actividad,

	 	sum(monto_actividad) as monto_actividad,
	 	sum(monto_proyecto) as monto_proyecto,

	 	sum(ajuste) as ajuste,
	 	a.fecha_ajuste,
	    
	    SUM(monto_comprometido_nomina) as monto_comprometido_nomina,
	    a.fecha_comprometido_nomina,
	 	
	 	SUM(monto_comprometido_compra) as monto_comprometido_compra,
	 	a.fecha_comprometido_compra
	 FROM view_ejecucion_balance_sectores a GROUP BY a.id_sector, a.sector, a.denominacion_sector, a.id_programa, a.programa, a.denominacion_programa, a.id_sub_programa, a.sub_programa, a.denominacion_sub_programa, a.id_proyecto, a.proyecto, a.denominacion_proyecto, a.id_actividad, a.actividad, a.denominacion_actividad, a.fecha_ajuste, a.fecha_comprometido_nomina, a.fecha_comprometido_compra ORDER BY a.sector, a.programa, a.sub_programa ASC;
-------------------------------------------------------------------------------------------------------------------------------
*/


CREATE OR REPLACE VIEW view_ordenamiento AS 
	SELECT 
	 	a.id,
		a.ano,
	 	a.mes_denominacion,
		a.quincena_denominacion,
		a.tipo_personal_denominacion,
		a.tipo,
		a.concepto,
		a.concepto_mod,
		a.fecha_rrhh,
		a.fecha_ejecucion,
		a.fecha_ordenamiento,
		a.fecha_tesoreria,
		a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord,
		'0' as numero_orden_pago_ord2,
		'0' as numero_orden_pago_ord3,
		'0' as numero_orden_pago_ord4,
		'0' as status1,
		'0' as status2,
		'0' as status3,
		'0' as status4,
		'ALCALDIA DE MIRANDA' as beneficiario,
	 	'0' as partida,
	 	'0' as denominacion,
	 	(SELECT sum(monto_comprometer) FROM view_ejecucion_requisicion_nomina WHERE id_requisicion = a.id limit 1) as monto,
		'2000-01-01'::date as fecha
	FROM view_mrrhh_requisicion a
	WHERE a.status >= 4 and a.status <= 6
UNION
	SELECT 
	 	a.id,
		a.ano,
	 	a.mes_denominacion,
		'0' as quincena_denominacion,
		'0' as tipo_personal_denominacion,
		a.tipo,
		(SELECT descripcion_ordena FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto,
		(SELECT descripcion_ordena_mod FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto_mod,
		a.fecha_rrhh,
		a.fecha_ejecucion,
		a.fecha_ordenamiento,
		a.fecha_tesoreria,
		a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord,
		a.numero_orden_pago_ord2,
		a.numero_orden_pago_ord3,
		a.numero_orden_pago_ord4,
		a.status1,
		a.status2,
		a.status3,
		a.status4,
		(SELECT proveedor FROM view_compra_fusion WHERE requisicion = a.id limit 1) as beneficiario,
	 	(SELECT partida FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as partida,
	 	(SELECT denominacion FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as denominacion,
	 	(SELECT sum(monto_comprometer) FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id and partida <> '4.03.18.01.00.00') as monto,
		'2000-01-01'::date as fecha
	FROM view_compra_requisicion a
	WHERE a.status >= 4 and a.status <= 7
UNION
	SELECT
	 	a.requisicion as id,
	 	a.ano,
	 	a.id::text as mes_denominacion,
	 	'0' as quincena_denominacion,
		'0' as tipo_personal_denominacion,
		'TRANSFERENCIA' as tipo,
	 	a.descripcion_ordena,
	 	a.descripcion_ordena_mod,
	 	(select fecha_rrhh from view_ejecucion_requisicion_transferencia where id = a.requisicion limit 1) as fecha_rrhh,
	 	(select fecha_ejecucion from view_ejecucion_requisicion_transferencia where id = a.requisicion limit 1) as fecha_ejecucion,
	 	(select fecha_ordenamiento from view_ejecucion_requisicion_transferencia where id = a.requisicion limit 1) as fecha_ordenamiento,
	 	(select fecha_tesoreria from view_ejecucion_requisicion_transferencia where id = a.requisicion limit 1) as fecha_tesoreria,
	 	a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord,
		'0' as numero_orden_pago_ord2,
		'0' as numero_orden_pago_ord3,
		'0' as numero_orden_pago_ord4,
		'0' as status1,
		'0' as status2,
		'0' as status3,
		'0' as status4,
		(SELECT beneficiario FROM view_ejecucion_transferencia WHERE requisicion = a.id limit 1) as beneficiario,
	 	a.cedula::text as partida,
	 	a.beneficiario as denominacion,
	 	a.total as monto,
		a.fecha::date
	 FROM view_ejecucion_transferencia a 
	 WHERE a.status >= 4 and a.status <= 6
UNION
	SELECT
	 	a.id,
	 	a.ano,
	 	a.mes_denominacion,
	 	a.quincena_denominacion,
		a.tipo_personal_denominacion,
		'REQSERVICIO' as tipo,
	 	a.concepto as descripcion_ordena,
	 	a.concepto_mod as descripcion_ordena_mod,
	 	a.fecha_rrhh,
		a.fecha_ejecucion,
		a.fecha_ordenamiento,
		a.fecha_tesoreria,
	 	a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord,
		'0' as numero_orden_pago_ord2,
		'0' as numero_orden_pago_ord3,
		'0' as numero_orden_pago_ord4,
		'0' as status1,
		'0' as status2,
		'0' as status3,
		'0' as status4,
		'ALCALDIA DE MIRANDA' as beneficiario,
	 	(SELECT partida FROM view_mrrhh_requisicion_servicios_partidas WHERE requisicion = a.id limit 1) as partida,
	 	(SELECT denominacion_partida FROM view_mrrhh_requisicion_servicios_partidas WHERE requisicion = a.id limit 1) as denominacion,
	 	(SELECT sum(monto) FROM view_mrrhh_requisicion_servicios_partidas WHERE requisicion = a.id) as monto,
		'2000-01-01'::date as fecha
	 FROM view_mrrhh_requisicion_servicios a 
	 WHERE a.status >= 4 and a.status <= 6;

CREATE OR REPLACE VIEW view_ordenamiento_nomina AS 
	SELECT 
	 	a.id,
	 	a.id_requisicion,
	 	a.n_factura,
		a.n_control,
		a.fecha,
	 	(SELECT denominacion FROM ordenamiento_tipo_calculo WHERE a.tipo_calculo = id limit 1) as tipo_calculo,
		a.bs,
		a.tipo_porcentaje,
		a.neto,
		--a.restante,
		a.ano
	FROM ordenamiento_nomina a ORDER BY a.id ASC;


CREATE OR REPLACE VIEW view_ordenamiento_compra AS 
	SELECT 
	 	a.id,
	 	a.id_requisicion,
		a.n_factura,
		a.n_control,
		a.fecha,
	 	(SELECT denominacion FROM ordenamiento_tipo_calculo WHERE a.tipo_calculo = id limit 1) as tipo_calculo,
	 	a.bs,
		a.tipo_porcentaje,
		a.neto,
		--a.restante,
		a.ano,
		a.fraccion,
		a.observacion
	FROM ordenamiento_compra a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_ordenamiento_transferencia AS 
	SELECT 
	 	a.id,
	 	a.id_requisicion,
		a.n_factura,
		a.n_control,
		a.fecha,
	 	(SELECT denominacion FROM ordenamiento_tipo_calculo WHERE a.tipo_calculo = id limit 1) as tipo_calculo,
	 	a.bs,
		a.tipo_porcentaje,
		a.neto,
		--a.restante,
		a.ano
	FROM ordenamiento_transferencia a ORDER BY a.id ASC;

CREATE OR REPLACE VIEW view_ordenamiento_servicio AS 
	SELECT 
	 	a.id,
	 	a.id_requisicion,
		a.n_factura,
		a.n_control,
		a.fecha,
	 	(SELECT denominacion FROM ordenamiento_tipo_calculo WHERE a.tipo_calculo = id limit 1) as tipo_calculo,
	 	a.bs,
		a.tipo_porcentaje,
		a.neto,
		--a.restante,
		a.ano
	FROM ordenamiento_servicio a ORDER BY a.id ASC;
/*======================================================================================================================*/
/*=================== VISTAS DE TESORERIA - IMPUESTOS ========================================*/
/*======================================================================================================================*/
CREATE OR REPLACE VIEW view_tesoreria AS 
	SELECT 
	 	a.id,
		a.ano,
	 	a.mes_denominacion,
		a.quincena_denominacion,
		a.tipo_personal_denominacion,
		a.tipo,
		a.concepto,
		a.concepto_mod,
		a.fecha_rrhh,
		a.fecha_ejecucion,
		a.fecha_ordenamiento,
		a.fecha_tesoreria,
		a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord,
		'0' as numero_orden_pago_ord2,
		'0' as numero_orden_pago_ord3,
		'0' as numero_orden_pago_ord4,
		'0' as status1,
		'0' as status2,
		'0' as status3,
		'0' as status4,
		'ALCALDIA DE MIRANDA' as beneficiario,
	 	'0' as partida,
	 	'0' as denominacion,
	 	(SELECT sum(monto_comprometer) FROM view_ejecucion_requisicion_nomina WHERE id_requisicion = a.id limit 1) as monto
	FROM view_mrrhh_requisicion a
	WHERE a.status >= 4 and a.status <= 6
UNION
	SELECT 
	 	a.id,
		a.ano,
	 	a.mes_denominacion,
		'0' as quincena_denominacion,
		'0' as tipo_personal_denominacion,
		a.tipo,
		(SELECT descripcion_ordena FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto,
		(SELECT descripcion_ordena_mod FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto_mod,
		a.fecha_rrhh,
		a.fecha_ejecucion,
		a.fecha_ordenamiento,
		a.fecha_tesoreria,
		a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord,
		a.numero_orden_pago_ord2,
		a.numero_orden_pago_ord3,
		a.numero_orden_pago_ord4,
		a.status1,
		a.status2,
		a.status3,
		a.status4,
		(SELECT proveedor FROM view_compra_fusion WHERE requisicion = a.id limit 1) as beneficiario,
	 	(SELECT partida FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as partida,
	 	(SELECT denominacion FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as denominacion,
	 	(SELECT bs FROM ordenamiento_compra WHERE id_requisicion = a.id and tipo_calculo = 1 and fraccion = 1) as monto
	FROM view_compra_requisicion a
	WHERE a.status >= 4 and a.status <= 6 and a.status1 = 'true'
UNION
	SELECT 
	 	a.id,
		a.ano,
	 	a.mes_denominacion,
		'0' as quincena_denominacion,
		'0' as tipo_personal_denominacion,
		a.tipo,
		(SELECT descripcion_ordena FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto,
		(SELECT descripcion_ordena_mod FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto_mod,
		a.fecha_rrhh,
		a.fecha_ejecucion,
		a.fecha_ordenamiento,
		a.fecha_tesoreria,
		a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord2 as numero_orden_pago_ord,
		a.numero_orden_pago_ord2,
		a.numero_orden_pago_ord3,
		a.numero_orden_pago_ord4,
		a.status1,
		a.status2,
		a.status3,
		a.status4,
		(SELECT proveedor FROM view_compra_fusion WHERE requisicion = a.id limit 1) as beneficiario,
	 	(SELECT partida FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as partida,
	 	(SELECT denominacion FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as denominacion,
	 	(SELECT bs FROM ordenamiento_compra WHERE id_requisicion = a.id and tipo_calculo = 1 and fraccion = 2) as monto
	FROM view_compra_requisicion a
	WHERE a.status >= 4 and a.status <= 6 and  a.status2 = 'true'
UNION
	SELECT 
	 	a.id,
		a.ano,
	 	a.mes_denominacion,
		'0' as quincena_denominacion,
		'0' as tipo_personal_denominacion,
		a.tipo,
		(SELECT descripcion_ordena FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto,
		(SELECT descripcion_ordena_mod FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto_mod,
		a.fecha_rrhh,
		a.fecha_ejecucion,
		a.fecha_ordenamiento,
		a.fecha_tesoreria,
		a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord3 as numero_orden_pago_ord,
		a.numero_orden_pago_ord2,
		a.numero_orden_pago_ord3,
		a.numero_orden_pago_ord4,
		a.status1,
		a.status2,
		a.status3,
		a.status4,
		(SELECT proveedor FROM view_compra_fusion WHERE requisicion = a.id limit 1) as beneficiario,
	 	(SELECT partida FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as partida,
	 	(SELECT denominacion FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as denominacion,
	 	(SELECT bs FROM ordenamiento_compra WHERE id_requisicion = a.id and tipo_calculo = 1 and fraccion = 3) as monto
	FROM view_compra_requisicion a
	WHERE a.status >= 4 and a.status <= 6 and a.status3 = 'true'
UNION
	SELECT 
	 	a.id,
		a.ano,
	 	a.mes_denominacion,
		'0' as quincena_denominacion,
		'0' as tipo_personal_denominacion,
		a.tipo,
		(SELECT descripcion_ordena FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto,
		(SELECT descripcion_ordena_mod FROM view_compra_fusion WHERE requisicion = a.id limit 1) as concepto_mod,
		a.fecha_rrhh,
		a.fecha_ejecucion,
		a.fecha_ordenamiento,
		a.fecha_tesoreria,
		a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord4 as numero_orden_pago_ord,
		a.numero_orden_pago_ord2,
		a.numero_orden_pago_ord3,
		a.numero_orden_pago_ord4,
		a.status1,
		a.status2,
		a.status3,
		a.status4,
		(SELECT proveedor FROM view_compra_fusion WHERE requisicion = a.id limit 1) as beneficiario,
	 	(SELECT partida FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as partida,
	 	(SELECT denominacion FROM view_ejecucion_requisicion_compra WHERE id_requisicion = a.id limit 1) as denominacion,
	 	(SELECT bs FROM ordenamiento_compra WHERE id_requisicion = a.id and tipo_calculo = 1 and fraccion = 4) as monto
	FROM view_compra_requisicion a
	WHERE a.status >= 4 and a.status <= 6 and a.status4 = 'true' 
UNION
	SELECT
	 	a.requisicion as id,
	 	a.ano,
	 	a.id::text as mes_denominacion,
	 	'0' as quincena_denominacion,
		'0' as tipo_personal_denominacion,
		'TRANSFERENCIA' as tipo,
	 	a.descripcion_ordena,
	 	a.descripcion_ordena_mod,
	 	(select fecha_rrhh from view_ejecucion_requisicion_transferencia where id = a.requisicion limit 1) as fecha_rrhh,
	 	(select fecha_ejecucion from view_ejecucion_requisicion_transferencia where id = a.requisicion limit 1) as fecha_ejecucion,
	 	(select fecha_ordenamiento from view_ejecucion_requisicion_transferencia where id = a.requisicion limit 1) as fecha_ordenamiento,
	 	(select fecha_tesoreria from view_ejecucion_requisicion_transferencia where id = a.requisicion limit 1) as fecha_tesoreria,
	 	a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord,
		'0' as numero_orden_pago_ord2,
		'0' as numero_orden_pago_ord3,
		'0' as numero_orden_pago_ord4,
		'0' as status1,
		'0' as status2,
		'0' as status3,
		'0' as status4,
		(SELECT beneficiario FROM view_ejecucion_transferencia WHERE requisicion = a.id limit 1) as beneficiario,
	 	a.cedula::text as partida,
	 	a.beneficiario as denominacion,
	 	a.total as monto
	 FROM view_ejecucion_transferencia a 
	 WHERE a.status >= 4 and a.status <= 6
UNION
	SELECT
	 	a.id,
	 	a.ano,
	 	a.mes_denominacion,
	 	a.quincena_denominacion,
		a.tipo_personal_denominacion,
		'REQSERVICIO' as tipo,
	 	a.concepto as descripcion_ordena,
	 	a.concepto_mod as descripcion_ordena_mod,
	 	a.fecha_rrhh,
		a.fecha_ejecucion,
		a.fecha_ordenamiento,
		a.fecha_tesoreria,
	 	a.status,
		a.numero_orden_pago,
		a.numero_orden_pago_ord,
		'0' as numero_orden_pago_ord2,
		'0' as numero_orden_pago_ord3,
		'0' as numero_orden_pago_ord4,
		'0' as status1,
		'0' as status2,
		'0' as status3,
		'0' as status4,
		'ALCALDIA DE MIRANDA' as beneficiario,
	 	(SELECT partida FROM view_mrrhh_requisicion_servicios_partidas WHERE requisicion = a.id limit 1) as partida,
	 	(SELECT denominacion_partida FROM view_mrrhh_requisicion_servicios_partidas WHERE requisicion = a.id limit 1) as denominacion,
	 	(SELECT sum(monto) FROM view_mrrhh_requisicion_servicios_partidas WHERE requisicion = a.id) as monto
	 FROM view_mrrhh_requisicion_servicios a 
	 WHERE a.status >= 4 and a.status <= 6;


CREATE OR REPLACE VIEW view_tesoreria_cuentas AS 
	SELECT 
		a.numero_cuenta,
		a.nombre_banco,
		a.representante,
		a.fecha_apertura,
		a.saldo,
		a.tipo,
		a.cedula,
		(SELECT SUM(monto) FROM tesoreria_pago where numero_cuenta = a.numero_cuenta and a.tipo = true and id_operacion = 2) as creditos,
		(SELECT SUM(monto) FROM tesoreria_pago where numero_cuenta = a.numero_cuenta and a.tipo = true and id_operacion <> 2) as debitos,
		a.id_banco
FROM tesoreria_cuentas a group by numero_cuenta, nombre_banco, representante, fecha_apertura, saldo, tipo, cedula, id_banco;



CREATE OR REPLACE VIEW view_tesoreria_liquidar AS 
	SELECT 
		a.id,
		a.requisicion,
		a.numero_orden_pago,
		a.numero_orden_pago_ord,
		a.fecha,
		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT fecha_rrhh FROM mrrhh_requisicion WHERE a.requisicion = id limit 1)
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT fecha_rrhh FROM compra_requisicion WHERE a.requisicion = id limit 1)
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (SELECT fecha_rrhh FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id limit 1)
 		END AS fecha_facturacion,
 		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT fecha_tesoreria FROM mrrhh_requisicion WHERE a.requisicion = id limit 1)
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT fecha_tesoreria FROM compra_requisicion WHERE a.requisicion = id limit 1)
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (SELECT fecha_tesoreria FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id limit 1)
 		END AS fecha_pago,
 		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT tipo FROM mrrhh_requisicion WHERE a.requisicion = id limit 1)
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT tipo FROM compra_requisicion WHERE a.requisicion = id limit 1)
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (SELECT tipo FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id limit 1)
 		END AS tipo,
 		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN 'ALCALDIA DE MIRANDA'
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (
  				CASE
		  			WHEN ((SELECT count(*) FROM compra_orden_servicio WHERE a.requisicion = requisicion) <> 0) THEN (SELECT razon_social FROM compra_proveedores WHERE rif = (SELECT proveedor FROM compra_orden_servicio WHERE a.requisicion = requisicion limit 1) limit 1)
		  			WHEN ((SELECT count(*) FROM compra_orden_compras WHERE a.requisicion = requisicion) <> 0) THEN (SELECT razon_social FROM compra_proveedores WHERE rif = (SELECT proveedor FROM compra_orden_compras WHERE a.requisicion = requisicion limit 1) limit 1)
		 		END)
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (SELECT nombres FROM ejecucion_beneficiarios WHERE cedula = (SELECT beneficiario FROM ejecucion_transferencia WHERE a.requisicion = requisicion limit 1) limit 1)
 		END AS razon_social,
 		sum(a.monto) as monto,
 		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT status FROM mrrhh_requisicion WHERE a.requisicion = id limit 1)
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT status FROM compra_requisicion WHERE a.requisicion = id limit 1)
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (SELECT status FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id limit 1)
 		END AS status,
 		(select n_referencia from tesoreria_pago where requisicion = a.requisicion limit 1) as  n_referencia
	FROM tesoreria_pago a group by id, requisicion, numero_orden_pago, numero_orden_pago_ord, fecha;

CREATE OR REPLACE VIEW view_tesoreria_liquidar_reporte AS 
	SELECT 
		a.requisicion,
 		a.razon_social,
 		a.fecha_pago,
 		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN '200001690'
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (
  				CASE
		  			WHEN ((SELECT count(*) FROM compra_orden_servicio WHERE a.requisicion = requisicion) <> 0) THEN (SELECT rif FROM compra_proveedores WHERE rif = (SELECT proveedor FROM compra_orden_servicio WHERE a.requisicion = requisicion limit 1) limit 1)
		  			WHEN ((SELECT count(*) FROM compra_orden_compras WHERE a.requisicion = requisicion) <> 0) THEN (SELECT rif FROM compra_proveedores WHERE rif = (SELECT proveedor FROM compra_orden_compras WHERE a.requisicion = requisicion limit 1) limit 1)
		 		END)
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (SELECT cedula FROM ejecucion_beneficiarios WHERE cedula = (SELECT beneficiario FROM ejecucion_transferencia WHERE a.requisicion = requisicion limit 1) limit 1)
 		END AS rif,
 		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN 'G'
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (
  				CASE
		  			WHEN ((SELECT count(*) FROM compra_orden_servicio WHERE a.requisicion = requisicion) <> 0) THEN (SELECT letra FROM compra_proveedores WHERE rif = (SELECT proveedor FROM compra_orden_servicio WHERE a.requisicion = requisicion limit 1) limit 1)
		  			WHEN ((SELECT count(*) FROM compra_orden_compras WHERE a.requisicion = requisicion) <> 0) THEN (SELECT letra FROM compra_proveedores WHERE rif = (SELECT proveedor FROM compra_orden_compras WHERE a.requisicion = requisicion limit 1) limit 1)
		 		END)
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (SELECT letra FROM ejecucion_beneficiarios WHERE cedula = (SELECT beneficiario FROM ejecucion_transferencia WHERE a.requisicion = requisicion limit 1) limit 1)
 		END AS letra,
 		a.fecha_facturacion,
 		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT n_factura FROM ordenamiento_nomina WHERE id_requisicion = a.requisicion limit 1)
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT n_factura FROM ordenamiento_compra WHERE id_requisicion = a.requisicion limit 1)
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (SELECT n_factura FROM ordenamiento_transferencia WHERE id_requisicion = a.requisicion limit 1)
 		END AS n_factura,
 		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT n_control FROM ordenamiento_nomina WHERE id_requisicion = a.requisicion limit 1)
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (SELECT n_control FROM ordenamiento_compra WHERE id_requisicion = a.requisicion limit 1)
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (SELECT n_control FROM ordenamiento_transferencia WHERE id_requisicion = a.requisicion limit 1)
 		END AS n_control,
 		CASE
  			WHEN ((SELECT count(*) FROM mrrhh_requisicion WHERE a.requisicion = id) <> 0) THEN (CONCAT( (select extract(year from a.fecha_pago) from view_tesoreria_liquidar limit 1), (select extract(month from a.fecha_pago) from view_tesoreria_liquidar limit 1), '0000', a.requisicion))
  			WHEN ((SELECT count(*) FROM compra_requisicion WHERE a.requisicion = id) <> 0) THEN (CONCAT( (select extract(year from a.fecha_pago) from view_tesoreria_liquidar limit 1), (select extract(month from a.fecha_pago) from view_tesoreria_liquidar limit 1), '0000', a.requisicion))
  			WHEN ((SELECT count(*) FROM ejecucion_requisicion_transferencia WHERE a.requisicion = id) <> 0) THEN (CONCAT( (select extract(year from a.fecha_pago) from view_tesoreria_liquidar limit 1), (select extract(month from a.fecha_pago) from view_tesoreria_liquidar limit 1), '0000', a.requisicion ))
 		END AS n_comprobante
	FROM view_tesoreria_liquidar a;

CREATE OR REPLACE VIEW view_tesoreria_liquidar_reporte_calculo AS 
	SELECT 
		a.id_requisicion,
		a.fecha,
		a.n_factura,
		a.n_control,
		(select denominacion from ordenamiento_tipo_calculo where id = a.tipo_calculo) as tipo_calculo,
		(select neto from ordenamiento_nomina where id_requisicion = a.id_requisicion limit 1) as base_imponible,
		((select neto from ordenamiento_nomina where id_requisicion = a.id_requisicion limit 1) - (select sum(bs) from ordenamiento_nomina where id_requisicion = a.id_requisicion and tipo_calculo <> 1)) as total,
		(a.tipo_calculo) as porcentaje,
		((select neto from ordenamiento_nomina where id_requisicion = a.id_requisicion limit 1) * (cast(a.tipo_calculo as decimal) /100)) as impuesto
	FROM ordenamiento_nomina a;	

	CREATE OR REPLACE VIEW view_conciliacion_hacienda AS 
	SELECT 
		a.id,
		a.id_banco,
		a.numero_cuenta,
	 	(SELECT nombre_banco FROM tesoreria_cuentas WHERE a.id_banco = id_banco limit 1) as nombre_banco,
		a.fecha_inicio,
		a.fecha_corte,
		a.descripcion,
		a.saldo_libro,
		a.saldo_estado_cuenta,
		(select count(*) from conciliacion_hacienda_c where a.id = id_conciliacion) as n_c,
		(select count(*) from conciliacion_hacienda_d where a.id = id_conciliacion) as n_d,
		a.status
	  FROM conciliacion_hacienda a ORDER BY a.id ASC;




CREATE OR REPLACE VIEW view_ejecucion_forma2121 AS 
	SELECT 
	 	(select id from view_presupuesto_forma2121 where sector = a.sector and programa = a.programa and sub_programa = a.sub_programa and (proyecto = a.proyecto or actividad = a.actividad) limit 1) as id,
	 	a.ano,

	 	a.sector,
	 	a.programa,
	 	a.sub_programa,
	 	a.proyecto,
	 	a.actividad

FROM view_presupuesto_forma2121 a GROUP BY id, a.sector, a.programa, a.sub_programa, a.proyecto, a.actividad, a.ano ORDER BY a.id ASC;












--Lista de Nomina - OJO esto es de guia... para saber la enumeracion de cada nomina

/*
INSERT INTO mrrhh_tipo_nomina VALUES 
	('1', 'Empleados'),
	('2', 'Obreros'),
	('3', 'Jubilados'),
	('4', 'Pensionados'),
	('5', 'Proteccion Civil');

INSERT INTO mrrhh_tipo_personal VALUES
	('1', 'Empleados Fijos', '1'),
	('2', 'Empleados Contratados', '1'),
	('3', 'Directivos', '1'),
	('4', 'Obreros Fijos', '2'),
	('5', 'Obreros Contratados', '2'),
	('6', 'Obreros No Permanentes', '2'),
	('7', 'Empleados Jubilados ', '3'),
	('8', 'Obreros Jubilados ', '3'),
	('9', 'Empleados Pensionados', '4'),
	('10', 'Empleados Pensionados Sobrevivientes', '4'),
	('11', 'Empleados Pensionados Especiales', '4'),
	('12', 'Obreros Pensionados Sobrevivientes', '4'),
	('13', 'Obreros Pensionados Especiales', '4'),
	('14', 'Proteccion Civil', '5');
*/

--STATUSES
--0 Abierta, 1 Elaborada, 2 Comprometida, 3 Declinada, 4 En Ejecucion, 5 Aprobada, 6 Enviada a Tesoreria, 7 Liquidada